(window["webpackJsonpbiothings-explorer"]=window["webpackJsonpbiothings-explorer"]||[]).push([[0],{1031:function(e,t,a){},1033:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(115),c=a.n(r),s=(a(561),a(562),a(17)),i=a(18),o=a(20),u=a(19),h=a(21),p=a(1063),d=a(1064),m=a(1057),b=a(545),g=a(1034),y=a(1044),E=a(34),f=a(510),S=a.n(f),v=a(511),C=a.n(v),O=function(){return l.a.createElement("div",{className:"container"},l.a.createElement(p.a,{style:{border:"none",borderRadius:0}},l.a.createElement(d.a,{columns:2,stackable:!0,textAlign:"center"},l.a.createElement(d.a.Column,null,l.a.createElement(m.a,{centered:!0,href:"/explorer/explain",color:"red",className:"homeCard"},l.a.createElement(b.a,{src:S.a}),l.a.createElement(m.a.Content,{textAlign:"center"},l.a.createElement(m.a.Header,null,"EXPLAIN"),l.a.createElement(m.a.Description,null,"EXPLAIN queries are designed to identify plausible reasoning chains to explain the relationship between two entities.")),l.a.createElement(m.a.Content,{extra:!0,textAlign:"center"},l.a.createElement(E.b,{to:"/explain"},l.a.createElement(g.a,null,"Try it Out"))))),l.a.createElement(y.a,{vertical:!0},"Or"),l.a.createElement(d.a.Column,null,l.a.createElement(m.a,{centered:!0,href:"/explorer/predict",color:"green",className:"homeCard"},l.a.createElement(b.a,{src:C.a}),l.a.createElement(m.a.Content,{textAlign:"center"},l.a.createElement(m.a.Header,null,"PREDICT"),l.a.createElement(m.a.Description,null,"PREDICT queries are designed to predict plausible relationships between one entity and an entity class, such as Gene.")),l.a.createElement(m.a.Content,{extra:!0,textAlign:"center"},l.a.createElement(E.b,{to:"/predict"},l.a.createElement(g.a,null,"Try it Out"))))))))},k=a(1060),j=a(516),x=a.n(j),P=a(517),w=a.n(P),R=a(1066),I=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{color:"violet",inverted:!0,style:{borderRadius:0}},l.a.createElement(R.a.Item,null,l.a.createElement("img",{src:x.a,alt:"BioThings Explorer"})),l.a.createElement(R.a.Item,{name:"HOME",as:E.c,exact:!0,to:"/"},"HOME"),l.a.createElement(R.a.Item,{name:"PREDICT",as:E.c,exact:!0,to:"/predict"},"PREDICT"),l.a.createElement(R.a.Item,{name:"EXPLAIN",as:E.c,exact:!0,to:"/explain"},"EXPLAIN")),l.a.createElement(d.a,{style:{backgroundColor:"#9f7de8"},textAlign:"center"},l.a.createElement(d.a.Column,{mobile:16,tablet:8,computer:8},l.a.createElement(b.a,{src:w.a})),l.a.createElement(d.a.Column,{mobile:16,tablet:8,computer:8},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",{style:{color:"#e2e1e6"}},"BioThings Explorer"),l.a.createElement("br",null),l.a.createElement("h3",{style:{color:"#e2e1e6",fontSize:"1.5rem"}},"BioThings Explorer allows users to query a vast amount of biological and chemical databases in a central place by calling APIs which distribute these data on the fly. "))),l.a.createElement(k.a,{warning:!0},l.a.createElement(k.a.Header,null,"This web service is a simple demo for our ",l.a.createElement("a",{href:"https://github.com/biothings/biothings_explorer",target:"_blank",rel:"noopener noreferrer"},"Python Client"),".")))}}]),t}(n.Component),D=a(1055),B=a(72);a(652);var A=function(e){return l.a.createElement(d.a,{style:{backgroundColor:"#9f7de8",padding:"0 5vw",paddingTop:"1rem"},textAlign:"center",centered:!0,columns:3,stackable:!0},l.a.createElement(d.a.Column,{textAlign:"left"},l.a.createElement("h5",null,"Biothings Explorer"),l.a.createElement("p",null,"\xa9 Copyright 2017-",(new Date).getFullYear()," The Su/Wu Lab.")),l.a.createElement(d.a.Column,{textAlign:"left"},l.a.createElement("h5",null,"Links"),l.a.createElement(D.a,null,l.a.createElement(D.a.Item,null,l.a.createElement(E.b,{to:"/",className:"footer-link"},"HOME")),l.a.createElement(D.a.Item,null,l.a.createElement(E.b,{to:"/predict",className:"footer-link"},"PREDICT")),l.a.createElement(D.a.Item,null,l.a.createElement(E.b,{to:"/explain",className:"footer-link"},"EXPLAIN")))),l.a.createElement(d.a.Column,{textAlign:"left"},l.a.createElement("h5",null,"Contact Us"),l.a.createElement("p",null,l.a.createElement(B.a,{name:"mail",size:"large"}),": ",l.a.createElement("a",{href:"mailto:biothings@googlegroups.com",className:"footer-link"},"biothings@googlegroups.com"))))},N=a(22),M=a.n(N),T=a(80),L=a(71),G=a(12),H=a(1051),Q=a(1067),U=function(e){var t=e.name;return l.a.createElement(Q.a,null,l.a.createElement(Q.a.Section,null,l.a.createElement(E.b,{to:"/"},"Home")),l.a.createElement(Q.a.Divider,null),l.a.createElement(Q.a.Section,{active:!0},t))},z=a(1059),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={activeIndex:10},a.handleClick=function(e,t){var n=t.index,l=a.state.activeIndex===n?-1:n;a.setState({activeIndex:l})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.activeIndex;return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(B.a,{circular:!0,name:"info"}),l.a.createElement(z.a,null,l.a.createElement(z.a.Title,{active:0===e,index:0,onClick:this.handleClick},l.a.createElement(B.a,{name:"dropdown"}),'What can "EXPLAIN" queries do?'),l.a.createElement(z.a.Content,{active:0===e},l.a.createElement("p",null,"EXPLAIN queries are designed to identify plausible reasoning chains to explain the relationship between two entities.")),l.a.createElement(z.a.Title,{active:1===e,index:1,onClick:this.handleClick},l.a.createElement(B.a,{name:"dropdown"}),"Give me some examples of EXPLAIN queries."),l.a.createElement(z.a.Content,{active:1===e},l.a.createElement(D.a,{bulleted:!0},l.a.createElement(D.a.Item,null,"Why does ",l.a.createElement("b",null,"imatinib")," have an effect on the treatment of ",l.a.createElement("b",null,"chronic myelogenous leukemia (CML)"),"?"),l.a.createElement(D.a.Item,null,"Why does ",l.a.createElement("b",null,"pentoxifylline")," have an effect on the treatment of ",l.a.createElement("b",null,"severe acute respiratory syndrome"),"?")))))}}]),t}(n.Component),W=a(1061);function F(e){var t=[{key:"input",icon:"pencil",active:1===e.currentStep,link:!0,onClick:e.handleBackToStep1,title:"Step 1: Input",completed:e.step1Complete,description:"Specify your source and target node"},{key:"metapath",icon:"tasks",active:2===e.currentStep,link:!0,onClick:e.handleBackToStep2,disabled:!e.step1Complete,title:"Step 2: Metapath",completed:e.step2Complete,description:"Select the metapath(s) to perform the query"},{key:"result",icon:"table",active:3===e.currentStep,link:!0,onClick:e.handleBackToStep3,disabled:!e.step2Complete,title:"Step 3: Result",completed:e.step3Complete,description:"Explore the results using graph and table"}];return l.a.createElement(W.a.Group,{items:t,widths:3})}var X=a(175),Z=a(1058);function J(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Z.a,{category:!0,loading:e.state.isLoading,onResultSelect:function(t,a){var n=a.result;e.handleselect(n)},onSearchChange:e.handleSearchChange,results:e.state.results,value:e.state.value}))}var V=a(1052),Y=a(1054),K=a(1053),_=function(e){return l.a.createElement(K.a,{open:e.modalOpen,handleClose:e.handleClose,basic:!0,size:"small"},l.a.createElement(K.a.Header,null,"User Input Error"),l.a.createElement(K.a.Content,null,l.a.createElement("h3",null,"You haven't selected the ",e.field," yet.")),l.a.createElement(K.a.Actions,null,l.a.createElement(g.a,{color:"green",onClick:e.handleClose,inverted:!0},l.a.createElement(B.a,{name:"checkmark"})," Got it")))};function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSearchChange1=function(e,t){var n=t.value;a.setState({autocomplete1:ee({},a.state.autocomplete1,{isLoading:!0,value:n})}),Object(X.autocomplete)(n).then((function(e){var t={};for(var n in e)if(e[n].length>0){t[n]={name:n,results:[]};var l=e[n].map((function(e,t){return ee({},e,{title:e.name,description:e.display,key:e.name+t.toString()})}));t[n].results=l}a.setState({autocomplete1:ee({},a.state.autocomplete1,{isLoading:!1,results:t})})}))},a.handleSearchChange2=function(e,t){var n=t.value;a.setState({autocomplete2:ee({},a.state.autocomplete1,{isLoading:!0,value:n})}),Object(X.autocomplete)(n).then((function(e){var t={};for(var n in e)if(e[n].length>0){t[n]={name:n,results:[]};var l=e[n].map((function(e,t){return ee({},e,{title:e.name,description:e.display,key:e.name+t.toString()})}));t[n].results=l}a.setState({autocomplete2:ee({},a.state.autocomplete2,{isLoading:!1,results:t})})}))},a.setExample1=function(e){e.preventDefault(),a.setState({autocomplete1:ee({},a.setState.autocomplete1,{value:"IMATINIB"}),autocomplete2:ee({},a.setState.autocomplete2,{value:"chronic myelogenous leukemia"})});a.props.handleInputSelect({"CHEMBL.COMPOUND":"CHEMBL941",DRUGBANK:"DB00619",name:"Imatinib",PUBCHEM:5291,UMLS:"C0935989",MESH:"D000068877",CHEBI:"CHEBI:45783",smiles:"Cc1ccc(NC(=O)c2ccc(CN3CCN(C)CC3)cc2)cc1Nc1nccc(-c2cccnc2)n1",display:"chembl(CHEMBL941) drugbank(DB00619) name(Imatinib) pubchem(5291) umls(C0935989) mesh(D000068877) chebi(CHEBI:45783) smiles(Cc1ccc(NC(=O)c2ccc(CN3CCN(C)CC3)cc2)cc1Nc1nccc(-c2cccnc2)n1) ",type:"ChemicalSubstance",primary:{identifier:"CHEMBL.COMPOUND",cls:"ChemicalSubstance",value:"CHEMBL941"}});a.props.handleOutputSelect({MONDO:"MONDO:0011996",DOID:"DOID:8552",UMLS:"C1292772",MESH:"D015464",name:"chronic myelogenous leukemia",display:"mondo(MONDO:0011996) doid(DOID:8552) umls(C1292772) mesh(D015464) name(chronic myelogenous leukemia) ",type:"Disease",primary:{identifier:"MONDO",cls:"Disease",value:"MONDO:0011996"}})},a.setExample2=function(e){e.preventDefault(),a.setState({autocomplete1:ee({},a.setState.autocomplete1,{value:"cxcr4"}),autocomplete2:ee({},a.setState.autocomplete2,{value:"cxcr2"})});a.props.handleInputSelect({NCBIGene:"7852",name:"C-X-C motif chemokine receptor 4",SYMBOL:"CXCR4",UMLS:"C1332823",UNIPROTKB:"P61073",HGNC:"2561",ENSEMBL:"ENSG00000121966",display:"NCBIGene(7852) ENSEMBL(ENSG00000121966) HGNC(2561) UMLS(C1332823) UNIPROTKB(P61073) SYMBOL(CXCR4)",type:"Gene",primary:{identifier:"NCBIGene",cls:"Gene",value:"7852"}});a.props.handleOutputSelect({NCBIGene:"3579",name:"C-X-C motif chemokine receptor 2",SYMBOL:"CXCR2",UMLS:"C1334126",UNIPROTKB:"P25025",HGNC:"6027",ENSEMBL:"ENSG00000180871",display:"NCBIGene(3579) ENSEMBL(ENSG00000180871) HGNC(6027) UMLS(C1334126) UNIPROTKB(P25025) SYMBOL(CXCR2)",type:"Gene",primary:{identifier:"NCBIGene",cls:"Gene",value:"3579"}})},a.state={showModal:!1,autocomplete1:{isLoading:!1,results:[],value:""},autocomplete2:{isLoading:!1,results:[],value:""}},a.handleSearchChange1=a.handleSearchChange1.bind(Object(G.a)(a)),a.handleSearchChange2=a.handleSearchChange2.bind(Object(G.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.shouldDisplay?"":"hidden"},l.a.createElement(_,{field:"input/output",modalOpen:this.props.showModal,handleClose:this.props.handleClose}),l.a.createElement(p.a,{color:"green"},l.a.createElement(V.a,{onSubmit:this.props.handleStep1Submit},l.a.createElement(V.a.Group,null,l.a.createElement("h2",null," Step 1: Specify source and target nodes."),l.a.createElement("hr",null)),l.a.createElement(V.a.Group,null,l.a.createElement(g.a,{basic:!0,color:"red",content:"Example 1",onClick:this.setExample1}),l.a.createElement(g.a,{basic:!0,color:"green",content:"Example 2",onClick:this.setExample2})),l.a.createElement("div",null,l.a.createElement(Y.a,{content:"The ending node of the paths",header:"Source Node",trigger:l.a.createElement("h3",null,"Source Node")})),l.a.createElement("br",null),l.a.createElement(V.a.Group,null,l.a.createElement(J,{handleselect:this.props.handleInputSelect,handleSearchChange:this.handleSearchChange1,state:this.state.autocomplete1})),l.a.createElement("div",null,l.a.createElement(Y.a,{content:"The ending node of the paths",header:"Target Node",trigger:l.a.createElement("h3",null,"Target Node")})),l.a.createElement("br",null),l.a.createElement(V.a.Group,null,l.a.createElement(J,{handleselect:this.props.handleOutputSelect,handleSearchChange:this.handleSearchChange2,state:this.state.autocomplete2})),l.a.createElement("div",{className:"col text-center"},l.a.createElement(g.a,{type:"submit",onClick:this.props.handleStep1Submit},"Continue")))))}}]),t}(n.Component),ae=a(1056),ne={G:"#02b3e4",SV:"#e91e63",CS:"#fa750f",PF:"#1b03fc",PW:"#607d8b",T:"#7d4d3e",A:"#4caf50",GE:"#e11F63",P:"#f21e37",CL:"#175442",BS:"#815499",D:"#7761f2",C:"#d8e339",CC:"#3107d9",BP:"#236b44",MA:"#0366fc"},le={Gene:"G",SequenceVariant:"SV",ChemicalSubstance:"CS",PhenotypicFeature:"PF",Pathway:"PW",Transcript:"T",AnatomicalEntity:"A",GenomicEntity:"GE",Protein:"P",CellLine:"CL",Biosample:"BS",Disease:"D",Cell:"C",CellularComponent:"CC",BiologicalProcess:"BP",MolecularActivity:"MA"},re=a(225),ce=function(e){var t=re.a("."+e.className).append("svg").attr("height","20px").attr("width","100%").attr("id","svg-viz-"+e.className),a=e.className.split("-").map((function(e){return le[e]}));t.selectAll("circle").data(a).enter().append("circle").attr("r","10").attr("cx",(function(e,t){return 80*t+10})).attr("cy","10").attr("fill",(function(e){return ne[e]})),t.selectAll("line").data(a.slice(0,a.length-1)).enter().append("line").attr("x1",(function(e,t){return 80*t+25})).attr("y1","10").attr("y2","10").attr("width",10).attr("x2",(function(e,t){return 80*t+75})).attr("stroke","#ded9d3").attr("stroke-width","1"),t.append("text").selectAll("tspan").data(a).enter().append("tspan").attr("x",(function(e,t){return 80*t+10})).attr("y",10).attr("stroke","white").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","10").text((function(e){return e}))},se=function(e){return Object(n.useEffect)((function(){ce(e)}),[]),l.a.createElement("div",{className:e.className})},ie=a(24),oe=a.n(ie),ue=function(){var e,t,a=re.a(".node-label").append("svg").attr("height","150px").attr("width","100%").attr("id","svg-viz-node-label"),n=oe.a.invert(le),l=Object.keys(ne);a.selectAll("circle").data(l).enter().append("circle").attr("r","10").attr("cx",(function(e,t){return t%4*160+10})).attr("cy",(function(e,t){return 30*Math.floor(t/4)+10})).attr("fill",(function(e){return ne[e]}));for(var r=0;r<l.length;r++)e=l[r],t=r,a.append("text").attr("x",t%4*160+10).attr("y",30*Math.floor(t/4)+10).attr("stroke","white").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","10").text(e),a.append("text").attr("x",t%4*160+40).attr("y",30*Math.floor(t/4)+10).attr("stroke","black").attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","10").text(n[e])},he=function(){return Object(n.useEffect)((function(){ue()}),[]),l.a.createElement("div",{className:"node-label"})},pe=function(e){var t=e.paths.map((function(t,a){return l.a.createElement(ae.a.Row,{textAlign:"right",key:a},l.a.createElement(ae.a.Cell,{key:"checkbox"+a.toString()},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:t,onChange:e.handleSelect,defaultChecked:!1}))),l.a.createElement(ae.a.Cell,{key:t},l.a.createElement(se,{className:t})))}));return l.a.createElement("div",{className:e.shouldDisplay?"":"hidden"},l.a.createElement(_,{field:"metapath",modalOpen:e.showModal,handleClose:e.handleClose}),l.a.createElement(p.a,{color:"red"},l.a.createElement("h2",null," Step 2: Select the MetaPath you want to execute."),l.a.createElement("hr",null),l.a.createElement(ae.a,{singleLine:!0},l.a.createElement(ae.a.Header,null,l.a.createElement(ae.a.Row,null,l.a.createElement(ae.a.HeaderCell,{width:1}),l.a.createElement(ae.a.HeaderCell,null,"MetaPath"))),l.a.createElement(ae.a.Body,null,t)),l.a.createElement("p",null,"Color Schema"),l.a.createElement(he,null),l.a.createElement("div",{className:"col text-center"},l.a.createElement(g.a,{type:"submit",onClick:e.handleBackToStep1},"Back"),l.a.createElement(g.a,{type:"submit",onClick:e.handleSubmit},"Continue"))))},de=a(1048),me=a(1069),be=a(544),ge=a(309),ye=a.n(ge);console.log("Constructing meta kg");var Ee=new ye.a;function fe(e){var t=e[0].split(":")[0];if("PMID"===t){var a=new URL("https://pubmed.ncbi.nlm.nih.gov/");return a.searchParams.append("term",e.map((function(e){return e.replace(/\D+/g,"")})).join(",")),a.toString()}if("PMC"===t){var n=new URL("https://www.ncbi.nlm.nih.gov/pmc/");return n.searchParams.append("term",e.map((function(e){return e.replace(/\D+/g,"")})).join(",")),n.toString()}return""}Ee.constructMetaKGSync();var Se=function(e){return Object(be.a)(e).map((function(e){return e.split("-").slice(1)[0]}))},ve=function(){var e=Object(T.a)(M.a.mark((function e(t,a){var n,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(n=new Set(Ee.filter({input_type:t}).map((function(e){return e.association.output_type})))).size){e.next=4;break}return e.abrupt("return",[]);case 4:if(l=[],n.forEach((function(e){Ee.filter({input_type:e,output_type:a}).length>0&&l.push(t+"-"+e+"-"+a)})),0!==l.length){e.next=8;break}return e.abrupt("return",[]);case 8:return e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(T.a)(M.a.mark((function e(t,a,n){var l,r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new URL("https://geneanalysis.ncats.io/explorer_api/v1/connect"),r={input_obj:JSON.stringify(t),output_obj:JSON.stringify(a),intermediate_nodes:JSON.stringify(n)},l.search=new URLSearchParams(r).toString(),e.prev=3,e.next=6,fetch(l);case 6:if((c=e.sent).ok){e.next=9;break}return e.abrupt("return",{data:[],log:[]});case 9:return e.next=12,c.json();case 12:return c=e.sent,e.abrupt("return",c);case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",{data:[],log:[]});case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t,a,n){return e.apply(this,arguments)}}();function Oe(e){var t=e.table.display.length>0?Object.keys(e.table.display[0]):[];return l.a.createElement("div",null,l.a.createElement("h3",null,"Your Query Results"),l.a.createElement("div",{style:{overflowX:"auto",marginBottom:"1em"}},l.a.createElement(ae.a,{sortable:!0,unstackable:!0,celled:!0,compact:!0},l.a.createElement(ae.a.Header,null,l.a.createElement(ae.a.Row,null,l.a.createElement(ae.a.HeaderCell,null,"Display"),oe.a.map(t,(function(t){return l.a.createElement(ae.a.HeaderCell,{key:t,className:t,value:t,sorted:e.table.column===t?e.table.direction:null,onClick:e.handleSort},t)})))),l.a.createElement(ae.a.Body,null,oe.a.map(e.table.display,(function(a){return l.a.createElement(ae.a.Row,{key:Object.values(a).join("||")+oe.a.uniqueId()},l.a.createElement(ae.a.Cell,{key:"checkbox",textAlign:"center"},l.a.createElement(de.a,{toggle:!0,name:Object.values(a).join("||"),onClick:e.handleSelect,checked:e.selectedQueryResults.has(Object.values(a).join("||"))})),oe.a.map(t,(function(e,t){return Array.isArray(a[e])?l.a.createElement(ae.a.Cell,{key:t,collapsing:!0},l.a.createElement("div",null,l.a.createElement("a",{href:fe(a[e]),target:"_blank",rel:"noopener noreferrer"},"Publications (",a[e].length,")\xa0\xa0",l.a.createElement(B.a,{name:"external alternate"})))):l.a.createElement(ae.a.Cell,{key:t},a[e])})))}))))),l.a.createElement(me.a,{onPageChange:e.handlePaginationChange,defaultActivePage:1,totalPages:e.table.totalPages,siblingRange:2}))}var ke=a(313),je=a.n(ke),xe=a(1065),Pe=a(1049),we=function(){return l.a.createElement(p.a,null,l.a.createElement(xe.a,{active:!0,inverted:!0},l.a.createElement(Pe.a,null)),l.a.createElement("h2",null,"The result might take a couple minutes to show up. "),l.a.createElement(b.a,{src:je.a}),l.a.createElement(b.a,{src:je.a}))},Re=a(315),Ie=a(314),De=a.n(Ie),Be=a(540),Ae=a.n(Be),Ne=a(1050);a(976);De.a.use(Ae.a);var Me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={cy:{},elements:{nodes:[],edges:[]},slots:[0]},a.zoomFit=a.zoomFit.bind(Object(G.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"heightModifier",value:function(e){return 0===e?0:e%2===0?-1*Math.ceil(e/2)*70:70*Math.ceil(e/2)}},{key:"getDimensions",value:function(){var e=document.getElementById("cy").getBoundingClientRect();return[e.width,e.height]}},{key:"addConnection",value:function(e,t,a){var n=this.getDimensions(),l=Object(Re.a)(n,2),r=l[0],c=l[1],s=e.split("||");if(0===this.state.cy.$id(s[0]).length&&this.state.cy.add({group:"nodes",data:{id:s[0],type:t},position:{x:100,y:c/2},style:{"background-color":ne[le[t]]||"black"}}),0===this.state.cy.$id(s[4]).length){var i=this.state.slots.shift();0===this.state.slots.length&&this.state.slots.push(i+1),this.state.cy.add({group:"nodes",data:{id:s[4],type:s[5],slot:i},position:{x:r/2,y:c/2+this.heightModifier(i)},style:{"background-color":ne[le[s[5]]]||"black"}})}0===this.state.cy.$id(s[9]).length&&this.state.cy.add({group:"nodes",data:{id:s[9],type:a},position:{x:r-100,y:c/2},style:{"background-color":ne[le[a]]||"black"}});var o=this.state.cy.$id("".concat(s[0],"-").concat(s[1],"-").concat(s[4]));0===o.length?this.state.cy.add({group:"edges",data:{id:"".concat(s[0],"-").concat(s[1],"-").concat(s[4]),source:s[0],target:s[4],label:s[1],publications:[s[3].split(",").join(", ")],apis:[s[2]],connections:1}}):(o.data("connections",o.data("connections")+1),o.data("apis").push(s[2]),o.data("publications").push(s[3].split(",").join(", ")));var u=this.state.cy.$id("".concat(s[4],"-").concat(s[6],"-").concat(s[9]));0===u.length?this.state.cy.add({group:"edges",data:{id:"".concat(s[4],"-").concat(s[6],"-").concat(s[9]),source:s[4],target:s[9],label:s[6],publications:[s[8].split(",").join(", ")],apis:[s[7]],connections:1}}):(u.data("connections",u.data("connections")+1),u.data("apis").push(s[7]),u.data("publications").push(s[8].split(",").join(", ")))}},{key:"deleteConnection",value:function(e){var t=this,a=e.split("||"),n=this.state.cy.$id("".concat(a[0],"-").concat(a[1],"-").concat(a[4])),l=this.state.cy.$id("".concat(a[4],"-").concat(a[6],"-").concat(a[9]));n.data("connections",n.data("connections")-1),l.data("connections",l.data("connections")-1);var r=n.data("publications").indexOf(a[3].split(",").join(", ")),c=l.data("publications").indexOf(a[8].split(",").join(", "));n.data("apis").splice(r,1),n.data("publications").splice(r,1),l.data("apis").splice(c,1),l.data("publications").splice(c,1),n.data("connections")<=0&&this.state.cy.remove(n),l.data("connections")<=0&&this.state.cy.remove(l);[0,4,9].forEach((function(e){var n=t.state.cy.$id(a[e]);0===n.degree()&&(void 0!==n.data("slot")&&t.state.slots.unshift(n.data("slot")),t.state.cy.remove(n))}))}},{key:"componentDidMount",value:function(){var e=document.getElementById("cy"),t=De()({container:e,elements:this.state.elements,style:[{selector:"node",style:{label:"data(id)","background-color":"black"}},{selector:"edge",style:{width:2,label:"data(label)","text-rotation":"autorotate","text-margin-y":"-6","curve-style":"bezier","target-arrow-shape":"triangle","line-color":"black","target-arrow-color":"black",opacity:.5}}],minZoom:.1,maxZoom:15,wheelSensitivity:.4,layout:{name:"preset"}});t.on("click","node",(function(e){var t=e.target,a=document.createElement("div");new Ne.a(a,{trigger:"manual",lazy:!1,interactive:!0,appendTo:document.body,onCreate:function(e){e.popperInstance.reference=t.popperRef()},content:function(){var e=document.createElement("div");return e.innerHTML="\n            <h3>".concat(t.id(),"</h3>\n            <p>Type: ").concat(t.data("type"),"</p>\n          "),e},onUntrigger:function(e){e.destroy()}}).show()})),t.on("click","edge",(function(e){var t=e.target,a=document.createElement("div");new Ne.a(a,{trigger:"manual",lazy:!1,interactive:!0,appendTo:document.body,onCreate:function(e){e.popperInstance.reference=t.popperRef()},content:function(){var e=document.createElement("div");return console.log(t.data("publications")),e.innerHTML="\n            <h3>Publications</h3>\n            ".concat(t.data("publications").join("")?'<p><a href="'.concat(fe(t.data("publications").join(", ").split(", ")),'" target="_blank" rel="noopener noreferrer">Open All Publications <i class="external alternate icon"></i></a></p>'):"","\n            \n            ").concat(Object(ie.zip)(t.data("apis"),t.data("publications")).map((function(e){return e[1]?"<p><strong>".concat(e[0],'</strong>:<br> <a href="').concat(fe(e[1].split(", ")),'" target="_blank" rel="noopener noreferrer">Publications (').concat(e[1].split(", ").length,') <i class="external alternate icon"></i></a></p>'):"<p><strong>".concat(e[0],"</strong>: No publications")})).join(""),"\n          "),e},onUntrigger:function(e){e.destroy()}}).show()})),this.setState({cy:t})}},{key:"zoomFit",value:function(){var e=this.getDimensions(),t=Object(Re.a)(e,2),a=t[0],n=t[1];this.state.cy.fit(),this.state.cy.zoom({level:.99*this.state.cy.zoom(),position:{x:a/2,y:n/2}})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(d.a,{columns:2},l.a.createElement(d.a.Row,null,l.a.createElement(d.a.Column,null,l.a.createElement("h2",null,"Graph \xa0\xa0",l.a.createElement(Y.a,{content:"Use the toggles on the table to add results to the graph.  Click on a node for more info on that node. Click on an edge to see publications for that relationship.  Click the 'Zoom Fit' button to fit the graph to the viewport.",trigger:l.a.createElement(B.a,{circular:!0,name:"info",size:"tiny",style:{verticalAlign:4}})}))),l.a.createElement(d.a.Column,{style:{textAlign:"right"}},l.a.createElement(g.a,{basic:!0,compact:!0,style:{marginRight:0,marginBottom:5},onClick:this.zoomFit},l.a.createElement(B.a,{name:"search"}),"Zoom Fit")))),l.a.createElement("div",{id:"cy",style:{height:600,border:"1px solid #ddd"}}))}}]),t}(n.PureComponent),Te=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.logs.map((function(e,t){return l.a.createElement("p",{key:t},e)}));return l.a.createElement("div",{className:this.props.shouldDisplay?"":"hidden"},l.a.createElement(p.a,{color:"blue"},this.props.resultReady?null:l.a.createElement(we,null),this.props.resultReady&&0===this.props.content.length?l.a.createElement("h2",{className:"emptyQueryResult"},"Sorry, no results could be found for your query. Please refine your search!"):"",this.props.resultReady&&this.props.content.length>0?l.a.createElement("div",null,l.a.createElement("h2",null," Step 3: Select the Query Result you want to display."),l.a.createElement("hr",null),l.a.createElement(K.a,{trigger:l.a.createElement(g.a,{basic:!0,color:"red",className:"logButton"},"Query Execution Logs"),closeIcon:!0},l.a.createElement(K.a.Header,null,"Query Execution Logs"),l.a.createElement(K.a.Description,null,e)),l.a.createElement(Oe,{handleSelect:this.props.handleSelect,content:this.props.content,table:this.props.table,handleSort:this.props.handleSort,handlePaginationChange:this.props.handlePaginationChange,selectedQueryResults:this.props.selectedQueryResults}),l.a.createElement(y.a,null)):null,l.a.createElement(Me,{ref:this.props.graphRef})))}}]),t}(n.Component),Le=a(542),Ge=a.n(Le);function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ue=a(24),ze=l.a.forwardRef((function(e,t){return l.a.createElement(Te,Object.assign({graphRef:t},e))})),qe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleClose=function(e){return a.setState(Object(L.a)({},e,!1))},a.handlePaginationChange=function(e,t){var n=t.activePage;a.setState({table:Qe({},a.state.table,{display:a.state.queryResults.data.slice(10*n-10,10*n),activePage:n})})},a.state={currentStep:1,step1Complete:!1,step2Complete:!1,step3Complete:!1,resultReady:!1,selectedInput:{},selectedOutput:{},paths:[],selectedPaths:new Set,queryResults:{data:[],log:[]},table:{column:null,display:[],direction:null,activePage:1,totalPages:1},selectedQueryResults:new Set,step1ShowError:!1,step2ShowError:!1},a.graphRef=l.a.createRef(),a.handleStep1Submit=a.handleStep1Submit.bind(Object(G.a)(a)),a.handleStep2Submit=a.handleStep2Submit.bind(Object(G.a)(a)),a.handleInputSelect=a.handleInputSelect.bind(Object(G.a)(a)),a.handleOutputSelect=a.handleOutputSelect.bind(Object(G.a)(a)),a.handleMetaPathSelect=a.handleMetaPathSelect.bind(Object(G.a)(a)),a.handleQueryResultSelect=a.handleQueryResultSelect.bind(Object(G.a)(a)),a.handleBackToStep1=a.handleBackToStep1.bind(Object(G.a)(a)),a.handleBackToStep2=a.handleBackToStep2.bind(Object(G.a)(a)),a.handleBackToStep3=a.handleBackToStep3.bind(Object(G.a)(a)),a.handleStep1Close=a.handleClose.bind(Object(G.a)(a),"step1ShowError"),a.handleStep2Close=a.handleClose.bind(Object(G.a)(a),"step2ShowError"),a.handlePaginationChange=a.handlePaginationChange.bind(Object(G.a)(a)),a.handleSort=a.handleSort.bind(Object(G.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleInputSelect",value:function(e){this.setState({selectedInput:e})}},{key:"handleOutputSelect",value:function(e){this.setState({selectedOutput:e})}},{key:"handleMetaPathSelect",value:function(e){var t=this.state.selectedPaths;e.target.checked?t.add(e.target.name):t.delete(e.target.name),this.setState({selectedPaths:t})}},{key:"handleQueryResultSelect",value:function(e,t){var a=this.state.selectedQueryResults;t.checked?(a.add(t.name),this.graphRef.current.addConnection(t.name,this.state.selectedInput.type,this.state.selectedOutput.type)):(a.delete(t.name),this.graphRef.current.deleteConnection(t.name)),this.setState({selectedQueryResults:a})}},{key:"handleStep1Submit",value:function(){var e=Object(T.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Ue.isEmpty(this.state.selectedInput)&&!Ue.isEmpty(this.state.selectedOutput)){e.next=5;break}this.setState({step1ShowError:!0}),e.next=11;break;case 5:return this.setState({currentStep:2,step1Complete:!0,step2Complete:!1,step3Complete:!1,selectedPaths:new Set,queryResults:{data:[],log:[]},selectedQueryResults:new Set,graph:{nodes:[],links:[]},table:{column:null,display:[],direction:null,activePage:1,totalPages:1}}),e.next=8,ve(this.state.selectedInput.type,this.state.selectedOutput.type);case 8:a=e.sent,console.log("edges",a),this.setState({paths:a});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleBackToStep1",value:function(e){e.preventDefault(),this.setState({currentStep:1})}},{key:"handleStep2Submit",value:function(){var e=Object(T.a)(M.a.mark((function e(t){var a,n,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==(a=Se(this.state.selectedPaths)).length){e.next=6;break}this.setState({step2ShowError:!0}),e.next=13;break;case 6:return this.setState({currentStep:3,step2Complete:!0,resultReady:!1,table:{column:null,display:[],direction:null,activePage:1,totalPages:1}}),(n=new Ge.a).meta_kg.ops=n.meta_kg.ops.filter((function(e){return e.query_operation.tags.includes("biothings")})),e.next=11,n.query(this.state.selectedInput,this.state.selectedOutput,a);case 11:0===(l=e.sent).data.length?this.setState({resultReady:!0,step3Complete:!0,queryResults:{data:[],log:[]}}):this.setState({queryResults:l,table:Qe({},this.state.table,{display:l.data.slice(10*this.state.table.activePage-10,10*this.state.table.activePage),totalPages:Math.ceil(l.data.length/10)}),resultReady:!0,step3Complete:!0});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleBackToStep2",value:function(e){e.preventDefault(),this.setState({currentStep:2})}},{key:"handleBackToStep3",value:function(e){e.preventDefault(),this.setState({currentStep:3})}},{key:"handleSort",value:function(e){var t,a=e.target.className.split(" ").slice(-1)[0],n=this.state.table,l=n.column,r=n.direction;l!==a?(t=a.includes("publications")?Ue.sortBy(this.state.queryResults.data,[function(e){return Ue.get(e[a],"length",0)}]):Ue.sortBy(this.state.queryResults.data,[a]),this.setState({table:Qe({},this.state.table,{column:a,direction:"ascending",display:t.slice(10*this.state.table.activePage-10,10*this.state.table.activePage)}),queryResults:Qe({},this.state.queryResults,{data:t})})):(t=this.state.queryResults.data.reverse(),this.setState({table:Qe({},this.state.table,{direction:"ascending"===r?"descending":"ascending",display:this.state.queryResults.data.slice(10*this.state.table.activePage-10,10*this.state.table.activePage)}),queryResults:Qe({},this.state.queryResults,{data:t})}))}},{key:"render",value:function(){return l.a.createElement(H.a,{className:"feature"},l.a.createElement(U,{name:"Explain"}),l.a.createElement(q,null),l.a.createElement("hr",null),l.a.createElement(F,{currentStep:this.state.currentStep,step1Complete:this.state.step1Complete,step2Complete:this.state.step2Complete,step3Complete:this.state.step3Complete,handleBackToStep1:this.handleBackToStep1,handleBackToStep2:this.handleBackToStep2,handleBackToStep3:this.handleBackToStep3}),l.a.createElement(te,{shouldDisplay:1===this.state.currentStep,showModal:this.state.step1ShowError,handleClose:this.handleStep1Close,handleStep1Submit:this.handleStep1Submit,handleInputSelect:this.handleInputSelect,handleOutputSelect:this.handleOutputSelect}),l.a.createElement(pe,{shouldDisplay:2===this.state.currentStep,showModal:this.state.step2ShowError,handleClose:this.handleStep2Close,paths:this.state.paths,handleSelect:this.handleMetaPathSelect,handleSubmit:this.handleStep2Submit,handleBackToStep1:this.handleBackToStep1}),l.a.createElement(ze,{shouldDisplay:3===this.state.currentStep,resultReady:this.state.resultReady,content:this.state.queryResults.data,table:this.state.table,handleSort:this.handleSort,handlePaginationChange:this.handlePaginationChange,logs:this.state.queryResults.log,handleSelect:this.handleQueryResultSelect,graph:this.state.graph,ref:this.graphRef,selectedQueryResults:this.state.selectedQueryResults}))}}]),t}(n.Component),We=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={activeIndex:10},a.handleClick=function(e,t){var n=t.index,l=a.state.activeIndex===n?-1:n;a.setState({activeIndex:l})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.activeIndex;return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(B.a,{circular:!0,name:"info"}),l.a.createElement(z.a,null,l.a.createElement(z.a.Title,{active:0===e,index:0,onClick:this.handleClick},l.a.createElement(B.a,{name:"dropdown"}),"What can ",l.a.createElement("b",null,'"PREDICT"')," queries do?"),l.a.createElement(z.a.Content,{active:0===e},l.a.createElement("p",null,"PREDICT queries are designed to predict plausible relationships between one entity and an entity class.")),l.a.createElement(z.a.Title,{active:1===e,index:1,onClick:this.handleClick},l.a.createElement(B.a,{name:"dropdown"}),"Give me some examples of ",l.a.createElement("b",null,'"PREDICT"')," queries."),l.a.createElement(z.a.Content,{active:1===e},l.a.createElement(D.a,{bulleted:!0},l.a.createElement(D.a.Item,null,"What ",l.a.createElement("b",null,"drugs")," might be used to treat ",l.a.createElement("b",null,"hyperphenylalaninemia"),'?"'),l.a.createElement(D.a.Item,null,"What ",l.a.createElement("b",null,"genes")," are in the same pathway as ",l.a.createElement("b",null,"CDK7"),"?")))))}}]),t}(n.Component),Fe={isLoading:!1,results:[],value:""},Xe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Fe,a.handleResultSelect=function(e,t){var n=t.result;a.setState({value:n.title}),a.props.handleSelect(n.title)},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!0,value:n}),setTimeout((function(){if(a.state.value.length<1)return a.setState(Fe);var e=new RegExp(oe.a.escapeRegExp(a.state.value),"i");a.setState({isLoading:!1,results:oe.a.filter(oe.a.keys(le),(function(t){return e.test(t)})).map((function(e){return{title:e}}))})}),300)},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.value,n=e.results;return l.a.createElement(Z.a,Object.assign({loading:t,onResultSelect:this.handleResultSelect,onSearchChange:oe.a.debounce(this.handleSearchChange,500,{leading:!0}),results:n,value:a},this.props))}}]),t}(n.Component);function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSearchChange1=function(e,t){var n=t.value;a.setState({autocomplete1:Je({},a.state.autocomplete1,{isLoading:!0,value:n})}),Object(X.autocomplete)(n).then((function(e){var t={};for(var n in e)if(e[n].length>0){t[n]={name:n,results:[]};var l=e[n].map((function(e,t){return Je({},e,{title:e.name,description:e.display,key:e.name+t.toString()})}));t[n].results=l}a.setState({autocomplete1:Je({},a.state.autocomplete1,{isLoading:!1,results:t})})}))},a.state={autocomplete1:{isLoading:!1,results:[],value:""}},a.handleSearchChange1=a.handleSearchChange1.bind(Object(G.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.shouldDisplay?"":"hidden"},l.a.createElement(_,{field:"input/output",modalOpen:this.props.showModal,handleClose:this.props.handleClose}),l.a.createElement(p.a,{color:"green"},l.a.createElement(V.a,{onSubmit:this.props.handleStep1Submit},l.a.createElement(V.a.Group,null,l.a.createElement("h2",null," Step 1: Specify source and target nodes."),l.a.createElement("hr",null)),l.a.createElement("div",null,l.a.createElement(Y.a,{content:"The starting node of the paths",trigger:l.a.createElement("h3",null,"Source Node")})),l.a.createElement("br",null),l.a.createElement(V.a.Group,null,l.a.createElement(J,{handleselect:this.props.handleInputSelect,handleSearchChange:this.handleSearchChange1,state:this.state.autocomplete1})),l.a.createElement("div",null,l.a.createElement(Y.a,{content:"The ending node of the paths",trigger:l.a.createElement("h3",null,"Target Node")})),l.a.createElement("br",null),l.a.createElement(V.a.Group,null,l.a.createElement(Xe,{handleSelect:this.props.handleOutputSelect})),l.a.createElement("div",{className:"col text-center"},l.a.createElement(g.a,{type:"submit",onClick:this.props.handleStep1Submit},"Continue")))))}}]),t}(n.Component),Ye=a(543),Ke=a.n(Ye);a(1030);function _e(e){var t=e.graph;return l.a.createElement("div",null,l.a.createElement("h3",null,"Graph"),l.a.createElement(Ke.a,{data:t,height:700,width:800}))}var $e=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.logs.map((function(e){return l.a.createElement("p",null,e)}));return l.a.createElement("div",{className:this.props.shouldDisplay?"":"hidden"},l.a.createElement(p.a,{color:"blue"},this.props.resultReady?null:l.a.createElement(we,null),this.props.resultReady&&0===this.props.content.length?l.a.createElement("h2",{className:"emptyQueryResult"},"Sorry, no results could be found for your query. Please refine your search!"):"",this.props.resultReady&&this.props.content.length>0?l.a.createElement("div",null,l.a.createElement("h2",null," Step 3: Select the Query Result you want to display."),l.a.createElement("hr",null),l.a.createElement(K.a,{trigger:l.a.createElement(g.a,{basic:!0,color:"red",className:"logButton"},"Query Execution Logs"),closeIcon:!0},l.a.createElement(K.a.Header,null,"Query Execution Logs"),l.a.createElement(K.a.Description,null,e)),l.a.createElement(Oe,{resultReady:this.props.resultReady,content:this.props.content,handleSelect:this.props.handleSelect,table:this.props.table,handleSort:this.props.handleSort,handlePaginationChange:this.props.handlePaginationChange}),l.a.createElement(y.a,null)):null,0===Object.keys(this.props.graph).length?null:l.a.createElement(_e,{graph:this.props.graph})))}}]),t}(n.Component);function et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?et(a,!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):et(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var at=a(24),nt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleClose=function(e){return a.setState(Object(L.a)({},e,!1))},a.handlePaginationChange=function(e,t){var n=t.activePage;a.setState({table:tt({},a.state.table,{display:a.state.queryResults.slice(10*n-10,10*n),activePage:n})})},a.state={currentStep:1,step1Complete:!1,step2Complete:!1,step3Complete:!1,step1ShowError:!1,step2ShowError:!1,selectedInput:{},selectedOutput:{},paths:[],selectedPaths:new Set,queryResults:[],queryLog:[],table:{column:null,display:[],direction:null,activePage:1,totalPages:1},selectedQueryResults:new Set,graph:{}},a.handleStep1Submit=a.handleStep1Submit.bind(Object(G.a)(a)),a.handleStep2Submit=a.handleStep2Submit.bind(Object(G.a)(a)),a.handleInputSelect=a.handleInputSelect.bind(Object(G.a)(a)),a.handleOutputSelect=a.handleOutputSelect.bind(Object(G.a)(a)),a.handleMetaPathSelect=a.handleMetaPathSelect.bind(Object(G.a)(a)),a.handleQueryResultSelect=a.handleQueryResultSelect.bind(Object(G.a)(a)),a.handleBackToStep1=a.handleBackToStep1.bind(Object(G.a)(a)),a.handleBackToStep2=a.handleBackToStep2.bind(Object(G.a)(a)),a.handleBackToStep3=a.handleBackToStep3.bind(Object(G.a)(a)),a.handlePaginationChange=a.handlePaginationChange.bind(Object(G.a)(a)),a.handleSort=a.handleSort.bind(Object(G.a)(a)),a.handleStep1Close=a.handleClose.bind(Object(G.a)(a),"step1ShowError"),a.handleStep2Close=a.handleClose.bind(Object(G.a)(a),"step2ShowError"),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleInputSelect",value:function(e){this.setState({selectedInput:e})}},{key:"handleOutputSelect",value:function(e){this.setState({selectedOutput:e})}},{key:"handleMetaPathSelect",value:function(e){var t=this.state.selectedPaths;e.target.checked?t.add(e.target.name):t.delete(e.target.name),this.setState({selectedPaths:t})}},{key:"handleQueryResultSelect",value:function(e){var t=this.state.selectedQueryResults;e.target.checked?t.add(e.target.name):t.delete(e.target.name);var a=function(e){e=Array.from(e);var t={},a={children:[]};Array.isArray(e)&&e.length&&(a.name=e[0].split("||")[0]);for(var n=0;n<e.length;n++){var l=e[n].split("||");l[3]in t?t[l[3]].add(l[7]):t[l[3]]=new Set([l[7]])}for(var r in t){var c={name:r,pathProps:r,children:[]};c.children=Array.from(t[r]).map((function(e){return{name:e,children:[]}})),a.children.push(c)}return a}(t);this.setState({selectedQueryResults:t,graph:a})}},{key:"handleStep1Submit",value:function(){var e=Object(T.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!at.isEmpty(this.state.selectedInput)&&!at.isEmpty(this.state.selectedOutput)){e.next=5;break}this.setState({step1ShowError:!0}),e.next=10;break;case 5:return this.setState({currentStep:2,step1Complete:!0,step2Complete:!1,step3Complete:!1,selectedPaths:new Set,queryResults:[],selectedQueryResults:new Set,graph:{}}),e.next=8,ve(this.state.selectedInput.type,this.state.selectedOutput);case 8:a=e.sent,this.setState({paths:a});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleBackToStep1",value:function(e){e.preventDefault(),this.setState({currentStep:1})}},{key:"handleStep2Submit",value:function(){var e=Object(T.a)(M.a.mark((function e(t){var a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==(a=Se(this.state.selectedPaths)).length){e.next=6;break}this.setState({step2ShowError:!0}),e.next=11;break;case 6:return this.setState({currentStep:3,step2Complete:!0}),e.next=9,Ce(this.state.selectedInput,this.state.selectedOutput,a);case 9:0===(n=e.sent).data.length?this.setState({step3Complete:!0,queryResults:[]}):this.setState({queryResults:n.data,table:tt({},this.state.table,{display:n.data.slice(10*this.state.table.activePage-10,10*this.state.table.activePage),totalPages:Math.ceil(n.data.length/10)}),queryLog:n.log,step3Complete:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleBackToStep2",value:function(e){e.preventDefault(),this.setState({currentStep:2})}},{key:"handleBackToStep3",value:function(e){e.preventDefault(),this.setState({currentStep:3})}},{key:"handleSort",value:function(e){var t=e.target.className.split(" ").slice(-1)[0],a=this.state.table,n=a.column,l=a.direction;n===t?this.setState({table:tt({},this.state.table,{direction:"ascending"===l?"descending":"ascending",display:this.state.queryResults.slice(10*this.state.table.activePage-10,10*this.state.table.activePage)}),queryResults:this.state.queryResults.reverse()}):this.setState({table:tt({},this.state.table,{column:t,direction:"descending"}),queryResults:at.sortBy(this.state.queryResults,[t])})}},{key:"render",value:function(){return l.a.createElement(H.a,{className:"feature"},l.a.createElement(U,{name:"Predict"}),l.a.createElement(We,null),l.a.createElement(F,{currentStep:this.state.currentStep,step1Complete:this.state.step1Complete,step2Complete:this.state.step2Complete,step3Complete:this.state.step3Complete,handleBackToStep1:this.handleBackToStep1,handleBackToStep2:this.handleBackToStep2,handleBackToStep3:this.handleBackToStep3}),l.a.createElement(Ve,{shouldDisplay:1===this.state.currentStep,showModal:this.state.step1ShowError,handleClose:this.handleStep1Close,handleStep1Submit:this.handleStep1Submit,handleInputSelect:this.handleInputSelect,handleOutputSelect:this.handleOutputSelect}),l.a.createElement(pe,{shouldDisplay:2===this.state.currentStep,showModal:this.state.step2ShowError,handleClose:this.handleStep2Close,paths:this.state.paths,handleSelect:this.handleMetaPathSelect,handleSubmit:this.handleStep2Submit,handleBackToStep1:this.handleBackToStep1}),l.a.createElement($e,{shouldDisplay:3===this.state.currentStep,resultReady:this.state.step3Complete,content:this.state.queryResults,table:this.state.table,handleSort:this.handleSort,handlePaginationChange:this.handlePaginationChange,logs:this.state.queryLog,handleSelect:this.handleQueryResultSelect,graph:this.state.graph}))}}]),t}(n.Component),lt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={options:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(I,null),l.a.createElement(E.d,{exact:!0,path:"/",component:O}),l.a.createElement(E.d,{exact:!0,path:"/predict",component:nt}),l.a.createElement(E.d,{exact:!0,path:"/explain",component:qe}),l.a.createElement(A,null))}}]),t}(n.Component),rt=Object(E.e)(lt),ct=(a(1031),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(E.a,{basename:"/explorer"},l.a.createElement(rt,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},313:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnEAAADVCAMAAAAPQVbbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjhCQkM5Qzc0REEyMTFFNEFGQjE5MEZCRUE1OUQ2MzIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjhCQkM5QzY0REEyMTFFNEFGQjE5MEZCRUE1OUQ2MzIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMxMzI0MDhBNERBMTExRTQ5NENDRTFCRDlGRkQxOEQxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMxMzI0MDhCNERBMTExRTQ5NENDRTFCRDlGRkQxOEQxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Efm4+wAAAwBQTFRFvL7AycrMwMLEyMnL5ufo/f39xMXH7Ozt9/f3v8HD0dLU29zd4uLj3d7f+vr6+Pn55ebn09XWxsjKwcPF+fn6/v7+wsTG9/j4yMrLzc7Q8PDx8vPzxMbIxsjJ+Pj4w8XH+fn5vsDC0NHT2tvc+Pj54+Tl2Nna8fHy/v7/xcbIzM3P3+Dh6uvrxsfJ+fr6/f3+xMbHxcfI7+/wxcfJ9vb34+Pk7e7uvb/A+/v78fHx1dfY9vb2z9HS5OXmycvMvsDB+vr77e3u2dvc4uPk7/DwwcPE6+vs5+jp9vf36erqysvN9/f44eLj5+joz9DSyszN////UVFRUlJSU1NTVFRUVVVVVlZWV1dXWFhYWVlZWlpaW1tbXFxcXV1dXl5eX19fYGBgYWFhYmJiY2NjZGRkZWVlZmZmZ2dnaGhoaWlpampqa2trbGxsbW1tbm5ub29vcHBwcXFxcnJyc3NzdHR0dXV1dnZ2d3d3eHh4eXl5enp6e3t7fHx8fX19fn5+f39/gICAgYGBgoKCg4ODhISEhYWFhoaGh4eHiIiIiYmJioqKi4uLjIyMjY2Njo6Oj4+PkJCQkZGRkpKSk5OTlJSUlZWVlpaWl5eXmJiYmZmZmpqam5ubnJycnZ2dnp6en5+foKCgoaGhoqKio6OjpKSkpaWlpqamp6enqKioqampqqqqq6urrKysra2trq6ur6+vsLCwsbGxsrKys7OztLS0tbW1tra2t7e3uLi4ubm5urq6u7u7vLy8vb29vr6+v7+/wMDAwcHBwsLCw8PDxMTExcXFxsbGx8fHyMjIycnJysrKy8vLzMzMzc3Nzs7Oz8/P0NDQ0dHR0tLS09PT1NTU1dXV1tbW19fX2NjY2dnZ2tra29vb3Nzc3d3d3t7e39/f4ODg4eHh4uLi4+Pj5OTk5eXl5ubm5+fn6Ojo6enp6urq6+vr7Ozs7e3t7u7u7+/v8PDw8fHx8vLy8/Pz9PT09fX19vb29/f3+Pj4+fn5+vr6+/v7/Pz8/f39/v7+////nkVZUQAAAFF0Uk5T//////////////////////////////////////////////////////////////////////////////////////////////////////////8AaOyowQAAArhJREFUeNrs3WsrBFEAx+FZtOUWlrAubax1CSWSkrskt/j+38IbrCIfYDLl7JzZsfs8H+HMr31z/jObnCXDkJ+j4Y+XLMlWArmayy6u5oRQHIoDxaE4UByKQ3GgOBQHiuPfFbfkhCi0uJG9CuSnVmlnF/cCRVIcikNxoDgUB4pDcSgOFIfiQHEoDhRHqYob2h6DINtPIcVVLQgJVQspbtm5EWowpDjvORBsXnEoDsUpDsWhOFAcikNxikNxKE5xdKu4hnMjVNBN/nVzHIJctSwysQEGxaE4FAeKQ3GgOBQHikNxKA4Uh+LgL8Wtzg5CUaaPbYApVF1xKA7FgeJQHCgOxaE4KLA43zqn2OJ2ToegKK1LN/nYjqA4UByKA8WhOBQHikNxoDgUB4pDcfRxcffJAPzqfCPv4myAybSgOBSH4hSH4lCc4lAcikNxikNxKE5xlLG4LWdKlv28i3t2k0+Gldxv8s1nsI9DcaA4FAeKQ3EoDhSH4kBxKA4Uh+Lo3+J2LcCIZ7qdKs4GmJjFzSgOxaE4UByKA8WhOBSnOBRH3xQ3Uq1ALPULN/nYjqA4UByKA8WhOFAcikNxoDgUB4pDcaA4FIfiIPfiGpbRdOz1D8V5z4HOLSoOxaE4xaE4FAeKQ3EoTnEoDsUlj+uj0JHm6JqbfGxHQHEoDsWB4lAcKA7FgeJQHIoDxaE4UBylK+4LIkoXV1+pQizzn6nilkymiWdgIlWc9xyIyH9IozgUB4pDcaA4FIfiFEdXiztwKsRz004Vt+xUiPgbly7u4+0dYnn4to/DIhPFgeJQHCgOxYHiUByKA8WhOFAcigPF0aXi7g4ne0/r1pMtbXG9+aWb2W+PtqzF1RSH4hSnOMWhOMUpTnEoDsUpTnGKQ3GKU5ziyKG4huIotLjmyVTvWV3f9GhL6keAAQAI4Bq5ZLODegAAAABJRU5ErkJggg=="},510:function(e,t,a){e.exports=a.p+"static/media/bte-explain.3398c417.png"},511:function(e,t,a){e.exports=a.p+"static/media/bte-predict.16a4b950.png"},516:function(e,t,a){e.exports=a.p+"static/media/biothings-explorer-text.8ec6e86e.png"},517:function(e,t,a){e.exports=a.p+"static/media/network.e94e244a.png"},556:function(e,t,a){e.exports=a(1033)},562:function(e,t,a){},652:function(e,t,a){},757:function(e,t){},759:function(e,t){},793:function(e,t){},794:function(e,t){}},[[556,1,2]]]);
//# sourceMappingURL=main.587edd9b.chunk.js.map