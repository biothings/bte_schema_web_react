{"version":3,"sources":["domain/Home.js","domain/Header.js","domain/Footer.js","components/Breadcrumb.js","components/AccordionComponent.js","components/StepsComponent.js","components/AutoCompleteComponent.js","components/DisplayErrorComponent.js","domain/explain/ExplainInputComponent.js","shared/semanticTypes.js","components/DrawMetaPath.js","components/DrawMetaPathLabels.js","components/MetaPathFormComponent.js","shared/utils.js","components/DisplayTableResult.js","components/DimerComponent.js","components/CytoscapeGraphComponent.js","domain/explain/ExplainQueryResultComponent.js","domain/explain/ExplainComponent.js","domain/predict/PredictHelpComponent.js","components/SemanticTypesAutocompleteComponent.js","domain/predict/PredictInputComponent.js","components/TreeGraphComponent.js","domain/predict/PredictQueryResultComponent.js","domain/predict/PredictComponent.js","domain/Main.js","App.js","serviceWorker.js","index.js","assets/paragraph.png","assets/bte-explain.png","assets/bte-predict.png","assets/biothings-explorer-text.png","assets/network.png"],"names":["Home","className","Segment","style","border","borderRadius","Grid","columns","stackable","textAlign","Column","Card","centered","href","color","Image","src","explain","Content","Header","Description","extra","to","Button","Divider","vertical","predict","Fragment","Menu","inverted","Item","bte","alt","name","as","NavLink","exact","mobile","tablet","computer","network","Message","warning","target","rel","Component","Footer","props","backgroundColor","padding","paddingTop","Date","getFullYear","List","Icon","size","Navigation","Breadcrumb","Section","active","AccordionComponent","state","activeIndex","handleClick","e","titleProps","index","newIndex","setState","this","circular","Accordion","Title","onClick","bulleted","BTESteps","steps","key","icon","currentStep","link","handleBackToStep1","title","completed","step1Complete","description","handleBackToStep2","disabled","step2Complete","handleBackToStep3","step3Complete","Step","Group","items","widths","AutoComplete","Search","category","loading","isLoading","onResultSelect","result","handleselect","onSearchChange","handleSearchChange","results","value","ErrorMessage","Modal","open","modalOpen","handleClose","basic","field","Actions","ExplainInput","handleSearchChange1","autocomplete1","autocomplete","then","response","new_response","semantic_type","length","content","map","record","i","toString","handleSearchChange2","autocomplete2","setExample1","event","preventDefault","handleInputSelect","handleOutputSelect","setExample2","showModal","bind","shouldDisplay","Form","onSubmit","handleStep1Submit","Popup","header","trigger","type","colorSchema","G","SV","CS","PF","PW","T","A","GE","P","CL","BS","D","C","CC","BP","MA","semanticTypeShorthand","Gene","SequenceVariant","ChemicalSubstance","PhenotypicFeature","Pathway","Transcript","AnatomicalEntity","GenomicEntity","Protein","CellLine","Biosample","Disease","Cell","CellularComponent","BiologicalProcess","MolecularActivity","draw","svg","d3","append","attr","dataArray","split","item","selectAll","data","enter","d","slice","text","DrawMetaPaths","useEffect","label","fullName","_","invert","Object","keys","Math","floor","Labels","MetaPathForm","rows","paths","path","Table","Row","onChange","handleSelect","defaultChecked","singleLine","HeaderCell","width","Body","handleSubmit","console","log","meta_kg","MetaKG","getPublicationLink","publications","pubType","url","URL","searchParams","pub","replace","join","constructMetaKGSync","getIntermediateNodes","metaPaths","x","findMetaPath","input_type","output_type","a","res1","Set","filter","rec","association","res2","forEach","intermediate","push","fetchQueryResult","input","output","params","input_obj","JSON","stringify","output_obj","intermediate_nodes","search","URLSearchParams","fetch","ok","json","BTETable","headers","table","display","overflowX","marginBottom","sortable","unstackable","celled","compact","sorted","column","direction","handleSort","values","uniqueId","Checkbox","toggle","checked","selectedQueryResults","has","col","Array","isArray","collapsing","Pagination","onPageChange","handlePaginationChange","defaultActivePage","totalPages","siblingRange","ReactLoader","Dimmer","Loader","paragraph","cytoscape","use","popper","CytoscapeGraph","cy","elements","nodes","edges","slots","zoomFit","slot","ceil","domRect","document","getElementById","getBoundingClientRect","height","inputType","outputType","getDimensions","$id","add","group","id","position","y","shift","heightModifier","edge1","source","apis","connections","edge2","idx1","indexOf","idx2","splice","remove","node_idx","node","degree","undefined","unshift","container","selector","minZoom","maxZoom","wheelSensitivity","layout","on","dummy","createElement","Tippy","lazy","interactive","appendTo","body","onCreate","instance","popperInstance","reference","popperRef","innerHTML","onUntrigger","destroy","show","edge","zip","combo","fit","zoom","level","verticalAlign","marginRight","PureComponent","ExplainQueryResult","paragraphs","logs","resultReady","closeIcon","ref","graphRef","require","ExplainQueryResultWrapper","React","forwardRef","Explain","activePage","queryResults","selectedInput","selectedOutput","selectedPaths","step1ShowError","step2ShowError","createRef","handleStep2Submit","handleMetaPathSelect","handleQueryResultSelect","handleStep1Close","handleStep2Close","delete","current","addConnection","deleteConnection","isEmpty","graph","links","q","query","ops","query_operation","tags","includes","new_data","clickedColumn","sortBy","o","get","reverse","Container","initialState","SearchSemanticTypeComponent","handleResultSelect","setTimeout","re","RegExp","escapeRegExp","test","debounce","leading","PredictInput","TreeGraph","PredictQueryResult","Predict","queryLog","records","from","tree_dict","tree","children","prop","pathProps","recordsToTreeGraph","Main","options","component","withRouter","App","basename","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.587edd9b.chunk.js","sourcesContent":["import React from 'react'\nimport { Divider, Button, Card, Grid, Image, Segment } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom';\nimport explain from '../assets/bte-explain.png';\nimport predict from '../assets/bte-predict.png';\n\nconst Home = () => (\n  <div className=\"container\">\n  <Segment style={{ border: \"none\", borderRadius: 0 }}>\n    <Grid columns={2} stackable textAlign='center'>\n      <Grid.Column>\n        <Card centered href=\"/explorer/explain\" color=\"red\" className=\"homeCard\">\n          <Image src={explain} />\n          <Card.Content textAlign=\"center\">\n            <Card.Header>EXPLAIN</Card.Header>\n            <Card.Description>\n            EXPLAIN queries are designed to identify plausible reasoning chains to explain the relationship between two entities.\n            </Card.Description>\n          </Card.Content>\n          <Card.Content extra textAlign=\"center\">\n            <Link to='/explain'><Button>Try it Out</Button></Link>\n          </Card.Content>\n        </Card>\n      </Grid.Column>\n      <Divider vertical>Or</Divider>\n      <Grid.Column>\n        <Card centered href=\"/explorer/predict\" color=\"green\" className=\"homeCard\">\n          <Image src={predict} />\n          <Card.Content textAlign=\"center\">\n            <Card.Header>PREDICT</Card.Header>\n            <Card.Description>\n            PREDICT queries are designed to predict plausible relationships between one entity and an entity class, such as Gene.\n            </Card.Description>\n          </Card.Content>\n          <Card.Content extra textAlign=\"center\">\n            <Link to='/predict'><Button>Try it Out</Button></Link>\n          </Card.Content>\n        </Card>\n      </Grid.Column>\n    </Grid>\n  </Segment>\n  </div>\n)\n\nexport default Home","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Message } from 'semantic-ui-react';\nimport bte from '../assets/biothings-explorer-text.png';\nimport network from '../assets/network.png';\nimport { Menu, Grid, Image } from 'semantic-ui-react';\n\nclass Header extends Component {\n    render() {\n        return(\n            <React.Fragment>\n                <Menu color=\"violet\" inverted style={{ borderRadius: 0 }}>\n                    <Menu.Item>\n                        <img src={bte} alt=\"BioThings Explorer\" />\n                    </Menu.Item>\n                    <Menu.Item\n                        name='HOME'\n                        as={NavLink}\n                        exact to='/'\n                        >\n                        HOME\n                    </Menu.Item>\n\n                    <Menu.Item\n                        name='PREDICT'\n                        as={NavLink}\n                        exact to='/predict'\n                        >\n                        PREDICT\n                    </Menu.Item>\n\n                    <Menu.Item\n                        name='EXPLAIN'\n                        as={NavLink}\n                        exact to='/explain'\n                        >\n                        EXPLAIN\n                    </Menu.Item>\n                </Menu>\n\n                <Grid style={{'backgroundColor': '#9f7de8'}} textAlign='center'>\n                    <Grid.Column mobile={16} tablet={8} computer={8}>\n                        <Image src={network} />\n                    </Grid.Column>\n                    <Grid.Column mobile={16} tablet={8} computer={8}>\n                        <br></br>\n                        <br></br>\n                        <h1 style={{'color': '#e2e1e6'}}>BioThings Explorer</h1>\n                        <br></br>\n                        <h3 style={{'color': '#e2e1e6', 'fontSize': '1.5rem'}}>BioThings Explorer allows users to query a vast amount of biological and chemical databases in a central place by calling APIs which distribute these data on the fly. </h3>\n                    </Grid.Column>\n                </Grid>\n\n                <Message warning>\n                    <Message.Header>This web service is a simple demo for our <a href=\"https://github.com/biothings/biothings_explorer\" target=\"_blank\" rel=\"noopener noreferrer\">Python Client</a>.</Message.Header>\n                </Message>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Header;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Grid, List, Icon } from 'semantic-ui-react';\nimport './Footer.css';\n\nfunction Footer(props) {\n    return(\n        <Grid style={{backgroundColor: '#9f7de8', padding: '0 5vw', paddingTop: '1rem'}} textAlign='center' centered columns={3} stackable>\n            <Grid.Column textAlign='left'>\n                <h5>Biothings Explorer</h5>\n                <p>© Copyright 2017-{new Date().getFullYear()} The Su/Wu Lab.</p>\n            </Grid.Column>\n            <Grid.Column textAlign='left'>\n                <h5>Links</h5>\n                <List>\n                    <List.Item><Link to='/' className=\"footer-link\">HOME</Link></List.Item>\n                    <List.Item><Link to='/predict' className=\"footer-link\">PREDICT</Link></List.Item>\n                    <List.Item><Link to='/explain' className=\"footer-link\">EXPLAIN</Link></List.Item>\n                </List>\n            </Grid.Column>\n            <Grid.Column textAlign='left'>\n                <h5>Contact Us</h5>\n                <p><Icon name='mail' size='large' />: <a href=\"mailto:biothings@googlegroups.com\" className=\"footer-link\">biothings@googlegroups.com</a></p>\n            </Grid.Column>\n        </Grid>\n    )\n}\n\nexport default Footer;","import { Breadcrumb } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nexport const Navigation = ({name}) => <Breadcrumb>\n        <Breadcrumb.Section><Link to='/'>Home</Link></Breadcrumb.Section>\n        <Breadcrumb.Divider />\n        <Breadcrumb.Section active>{name}</Breadcrumb.Section>\n    </Breadcrumb>","import React, { Component } from 'react'\nimport { Accordion, Icon, List } from 'semantic-ui-react'\n\nexport default class AccordionComponent extends Component {\n  state = { activeIndex: 10 }\n\n  handleClick = (e, titleProps) => {\n    const { index } = titleProps\n    const { activeIndex } = this.state\n    const newIndex = activeIndex === index ? -1 : index\n\n    this.setState({ activeIndex: newIndex })\n  }\n\n  render() {\n    const { activeIndex } = this.state\n\n    return (\n      <div>\n        <br></br>\n        <Icon circular name='info' />\n        <Accordion>\n          <Accordion.Title\n            active={activeIndex === 0}\n            index={0}\n            onClick={this.handleClick}\n          >\n            <Icon name='dropdown' />\n            What can \"EXPLAIN\" queries do?\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 0}>\n            <p>\n            EXPLAIN queries are designed to identify plausible reasoning chains to explain the relationship between two entities.\n            </p>\n          </Accordion.Content>\n\n          <Accordion.Title\n            active={activeIndex === 1}\n            index={1}\n            onClick={this.handleClick}\n          >\n            <Icon name='dropdown' />\n            Give me some examples of EXPLAIN queries.\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 1}>\n            <List bulleted>\n              <List.Item>Why does <b>imatinib</b> have an effect on the treatment of <b>chronic myelogenous leukemia (CML)</b>?</List.Item>\n              <List.Item>Why does <b>pentoxifylline</b> have an effect on the treatment of <b>severe acute respiratory syndrome</b>?</List.Item>\n            </List>\n          </Accordion.Content>\n        </Accordion>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { Step } from 'semantic-ui-react'\n\nexport default function BTESteps(props) {\n    const steps = [\n        {\n            key: \"input\",\n            icon: 'pencil',\n            active: props.currentStep === 1,\n            link: true,\n            onClick: props.handleBackToStep1,\n            title: 'Step 1: Input',\n            completed: props.step1Complete,\n            description: 'Specify your source and target node',\n        },\n        {\n            key: \"metapath\",\n            icon: 'tasks',\n            active: props.currentStep === 2,\n            link: true,\n            onClick: props.handleBackToStep2,\n            disabled: props.step1Complete ? false: true,\n            title: 'Step 2: Metapath',\n            completed: props.step2Complete,\n            description: 'Select the metapath(s) to perform the query',\n        },\n        {\n            key: \"result\",\n            icon: 'table',\n            active: props.currentStep === 3,\n            link: true,\n            onClick: props.handleBackToStep3,\n            disabled: props.step2Complete ? false: true,\n            title: 'Step 3: Result',\n            completed: props.step3Complete,\n            description: 'Explore the results using graph and table',\n        },\n    ]\n    return <Step.Group items={steps} widths={3}/>\n}\n","import React from 'react';\nimport { Search } from 'semantic-ui-react'\n\nexport default function AutoComplete(props) {\n\n    const handleResultSelect = (e, { result }) => {\n        //this.setState({ value: result.title, selected: result });\n        props.handleselect(result);\n    }\n\n\n    return (\n        <React.Fragment>\n            <Search\n            category\n            loading={props.state.isLoading}\n            onResultSelect={handleResultSelect}\n            onSearchChange={props.handleSearchChange}\n            results={props.state.results}\n            value={props.state.value}\n            />\n        </React.Fragment>\n    )\n}\n","import React from 'react'\nimport { Button, Icon, Modal } from 'semantic-ui-react'\n\nconst ErrorMessage = (props) => <Modal\n        open={props.modalOpen}\n        handleClose={props.handleClose}\n        basic\n        size='small'\n      >\n        <Modal.Header>User Input Error</Modal.Header>\n        <Modal.Content>\n          <h3>You haven't selected the {props.field} yet.</h3>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='green' onClick={props.handleClose} inverted>\n            <Icon name='checkmark' /> Got it\n          </Button>\n        </Modal.Actions>\n      </Modal>\n\nexport default ErrorMessage\n","import React, { Component } from 'react';\nimport { autocomplete } from 'biomedical-id-autocomplete';\nimport AutoComplete from '../../components/AutoCompleteComponent';\nimport { Form, Button, Segment, Popup } from 'semantic-ui-react'\nimport ErrorMessage from '../../components/DisplayErrorComponent';\n\nexport default class ExplainInput extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showModal: false,\n            autocomplete1: {\n                isLoading: false,\n                results: [],\n                value: ''\n            },\n            autocomplete2: {\n                isLoading: false,\n                results: [],\n                value: ''\n            }\n        };\n        this.handleSearchChange1 = this.handleSearchChange1.bind(this);\n        this.handleSearchChange2 = this.handleSearchChange2.bind(this);\n    }\n\n\n    handleSearchChange1 = (e, { value }) => {\n        this.setState({\n            autocomplete1: {\n                ...this.state.autocomplete1,\n                isLoading: true,\n                value\n            }\n        })\n        autocomplete(value)\n            .then(response => {\n                var new_response = {};\n                for (var semantic_type in response) {\n                    if (response[semantic_type].length > 0) {\n                        new_response[semantic_type] = { name: semantic_type, results: [] };\n                        var content = response[semantic_type].map(function (record, i) {\n                            return {\n                                ...record,\n                                'title': record['name'],\n                                'description': record['display'],\n                                'key': record['name'] + i.toString()\n                            }\n                        });\n                        new_response[semantic_type]['results'] = content;\n                    }\n                }\n                this.setState({\n                    autocomplete1: {\n                        ...this.state.autocomplete1,\n                        isLoading: false,\n                        results: new_response\n                    }\n                })\n            })\n    }\n\n    handleSearchChange2 = (e, { value }) => {\n        this.setState({\n            autocomplete2: {\n                ...this.state.autocomplete1,\n                isLoading: true,\n                value\n            }\n        })\n        autocomplete(value)\n            .then(response => {\n                var new_response = {};\n                for (var semantic_type in response) {\n                    if (response[semantic_type].length > 0) {\n                        new_response[semantic_type] = { name: semantic_type, results: [] };\n                        var content = response[semantic_type].map(function (record, i) {\n                            return {\n                                ...record,\n                                'title': record['name'],\n                                'description': record['display'],\n                                'key': record['name'] + i.toString()\n                            };\n                        });\n                        new_response[semantic_type]['results'] = content;\n                    }\n                }\n                this.setState({\n                    autocomplete2: {\n                        ...this.state.autocomplete2,\n                        isLoading: false,\n                        results: new_response\n                    }\n                })\n            })\n    }\n\n    setExample1 = (event) => {\n        event.preventDefault();\n        this.setState({\n            autocomplete1: {\n                ...this.setState.autocomplete1,\n                value: 'IMATINIB'\n            },\n            autocomplete2: {\n                ...this.setState.autocomplete2,\n                value: 'chronic myelogenous leukemia'\n            }\n        });\n        const IMATINIB = { \"CHEMBL.COMPOUND\": \"CHEMBL941\", \"DRUGBANK\": \"DB00619\", \"name\": \"Imatinib\", \"PUBCHEM\": 5291, \"UMLS\": \"C0935989\", \"MESH\": \"D000068877\", \"CHEBI\": \"CHEBI:45783\", \"smiles\": \"Cc1ccc(NC(=O)c2ccc(CN3CCN(C)CC3)cc2)cc1Nc1nccc(-c2cccnc2)n1\", \"display\": \"chembl(CHEMBL941) drugbank(DB00619) name(Imatinib) pubchem(5291) umls(C0935989) mesh(D000068877) chebi(CHEBI:45783) smiles(Cc1ccc(NC(=O)c2ccc(CN3CCN(C)CC3)cc2)cc1Nc1nccc(-c2cccnc2)n1) \", \"type\": \"ChemicalSubstance\", \"primary\": { \"identifier\": \"CHEMBL.COMPOUND\", \"cls\": \"ChemicalSubstance\", \"value\": \"CHEMBL941\" } };\n        this.props.handleInputSelect(IMATINIB);\n        const CML = { \"MONDO\": \"MONDO:0011996\", \"DOID\": \"DOID:8552\", \"UMLS\": \"C1292772\", \"MESH\": \"D015464\", \"name\": \"chronic myelogenous leukemia\", \"display\": \"mondo(MONDO:0011996) doid(DOID:8552) umls(C1292772) mesh(D015464) name(chronic myelogenous leukemia) \", \"type\": \"Disease\", \"primary\": { \"identifier\": \"MONDO\", \"cls\": \"Disease\", \"value\": \"MONDO:0011996\" } };\n        this.props.handleOutputSelect(CML);\n    }\n\n    setExample2 = (event) => {\n        event.preventDefault();\n        this.setState({\n            autocomplete1: {\n                ...this.setState.autocomplete1,\n                value: 'cxcr4'\n            },\n            autocomplete2: {\n                ...this.setState.autocomplete2,\n                value: 'cxcr2'\n            }\n        });\n        const CXCR4 = { \"NCBIGene\": \"7852\", \"name\": \"C-X-C motif chemokine receptor 4\", \"SYMBOL\": \"CXCR4\", \"UMLS\": \"C1332823\", \"UNIPROTKB\": \"P61073\", \"HGNC\": \"2561\", \"ENSEMBL\": \"ENSG00000121966\", \"display\": \"NCBIGene(7852) ENSEMBL(ENSG00000121966) HGNC(2561) UMLS(C1332823) UNIPROTKB(P61073) SYMBOL(CXCR4)\", \"type\": \"Gene\", \"primary\": { \"identifier\": \"NCBIGene\", \"cls\": \"Gene\", \"value\": \"7852\" } };\n        this.props.handleInputSelect(CXCR4);\n        const CXCR2 = { \"NCBIGene\": \"3579\", \"name\": \"C-X-C motif chemokine receptor 2\", \"SYMBOL\": \"CXCR2\", \"UMLS\": \"C1334126\", \"UNIPROTKB\": \"P25025\", \"HGNC\": \"6027\", \"ENSEMBL\": \"ENSG00000180871\", \"display\": \"NCBIGene(3579) ENSEMBL(ENSG00000180871) HGNC(6027) UMLS(C1334126) UNIPROTKB(P25025) SYMBOL(CXCR2)\", \"type\": \"Gene\", \"primary\": { \"identifier\": \"NCBIGene\", \"cls\": \"Gene\", \"value\": \"3579\" } };\n        this.props.handleOutputSelect(CXCR2);\n    }\n    render() {\n        return (\n            <div className={this.props.shouldDisplay ? '' : 'hidden'}>\n                <ErrorMessage field='input/output' modalOpen={this.props.showModal} handleClose={this.props.handleClose} />\n                <Segment color=\"green\">\n                    <Form onSubmit={this.props.handleStep1Submit}>\n                        <Form.Group>\n                            <h2> Step 1: Specify source and target nodes.</h2>\n                            <hr />\n                        </Form.Group>\n                        <Form.Group>\n                            <Button basic color='red' content='Example 1' onClick={this.setExample1} />\n                            <Button basic color='green' content='Example 2' onClick={this.setExample2} />\n                        </Form.Group>\n                        <div>\n                            <Popup content=\"The ending node of the paths\" header=\"Source Node\" trigger={<h3>Source Node</h3>} />\n                        </div>\n                        <br />\n                        <Form.Group>\n                            <AutoComplete\n                                handleselect={this.props.handleInputSelect}\n                                handleSearchChange={this.handleSearchChange1}\n                                state={this.state.autocomplete1}\n                            />\n                        </Form.Group>\n                        <div>\n                            <Popup content=\"The ending node of the paths\" header=\"Target Node\" trigger={<h3>Target Node</h3>} />\n                        </div>\n                        <br />\n                        <Form.Group>\n                            <AutoComplete\n                                handleselect={this.props.handleOutputSelect}\n                                handleSearchChange={this.handleSearchChange2}\n                                state={this.state.autocomplete2}\n                            />\n                        </Form.Group>\n                        <div className=\"col text-center\">\n                            <Button type='submit' onClick={this.props.handleStep1Submit}>Continue</Button>\n                        </div>\n                    </Form>\n                </Segment>\n            </div>\n        )\n    }\n}\n\n","export const colorSchema = {\n    G: '#02b3e4',\n    SV: \"#e91e63\", \n    CS: '#fa750f',\n    PF: '#1b03fc',\n    PW: '#607d8b',\n    T: '#7d4d3e',\n    A: '#4caf50',\n    GE: \"#e11F63\",\n    P: \"#f21e37\",\n    CL: '#175442',\n    BS: '#815499',\n    D: '#7761f2',\n    C: '#d8e339',\n    CC: '#3107d9',\n    BP: '#236b44',\n    MA: '#0366fc',\n}\n\nexport const semanticTypeShorthand = {\n    Gene: \"G\",\n    SequenceVariant: \"SV\",\n    ChemicalSubstance: \"CS\",\n    PhenotypicFeature: \"PF\",\n    Pathway: \"PW\",\n    Transcript: \"T\",\n    AnatomicalEntity: \"A\",\n    GenomicEntity: \"GE\",\n    Protein: \"P\",\n    CellLine: \"CL\",\n    Biosample: \"BS\",\n    Disease: \"D\",\n    Cell: \"C\",\n    CellularComponent: \"CC\",\n    BiologicalProcess: \"BP\",\n    MolecularActivity: \"MA\"\n}","import React, { useEffect } from 'react';\nimport {colorSchema, semanticTypeShorthand} from '../shared/semanticTypes'\nimport * as d3 from 'd3';\n\nconst DrawMetaPaths = (props) => {\n    useEffect(() => {\n        draw(props)\n    }, [])\n    return <div className={props.className} />\n}\n\nconst draw = (props) => {\n    let svg = d3.select('.' + props.className).append('svg')\n                .attr('height', \"20px\")\n                .attr('width', \"100%\")\n                .attr('id', 'svg-viz-' + props.className)\n\n    let dataArray = props.className.split('-').map(item => semanticTypeShorthand[item]);\n    \n    svg.selectAll(\"circle\")\n        .data(dataArray)\n        .enter().append(\"circle\")\n                    .attr(\"r\", \"10\")\n                    .attr(\"cx\", (d, i) => 80*i + 10)\n                    .attr(\"cy\", \"10\")\n                    .attr(\"fill\", (d) => colorSchema[d])\n    \n    \n    svg.selectAll(\"line\")\n        .data(dataArray.slice(0, dataArray.length -1))\n        .enter().append(\"line\")\n                    .attr(\"x1\", (d, i) => 80*i +25)\n                    .attr(\"y1\", \"10\")\n                    .attr(\"y2\", \"10\")\n                    .attr(\"width\", 10)\n                    .attr(\"x2\", (d, i) => 80*i + 75)\n                    .attr(\"stroke\", \"#ded9d3\")\n                    .attr(\"stroke-width\", \"1\")\n\n    svg.append(\"text\").selectAll(\"tspan\")\n        .data(dataArray)\n        .enter().append(\"tspan\")\n        .attr(\"x\", (d, i) => 80 * i + 10)\n        .attr(\"y\", 10)\n        .attr(\"stroke\", \"white\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"dominant-baseline\", \"middle\")\n        .attr(\"font-size\", \"10\")\n        .text((d) => d)\n\n  }\nexport default DrawMetaPaths\n","import React, { useEffect } from 'react';\nimport {colorSchema, semanticTypeShorthand} from '../shared/semanticTypes'\nimport * as d3 from 'd3';\nimport _ from 'lodash';\n\nconst Labels = () => {\n    useEffect(() => {\n        draw()\n    }, [])\n    return <div className='node-label' />\n}\n\nconst draw = () => {\n    let svg = d3.select('.node-label').append('svg')\n                .attr('height', \"150px\")\n                .attr('width', \"100%\")\n                .attr('id', 'svg-viz-node-label')\n\n    const fullName = _.invert(semanticTypeShorthand);\n\n    const dataArray = Object.keys(colorSchema);\n\n    svg.selectAll(\"circle\")\n        .data(dataArray)\n        .enter().append(\"circle\")\n                    .attr(\"r\", \"10\")\n                    .attr(\"cx\", (d, i) => (i%4)*160 + 10)\n                    .attr(\"cy\", (d, i) => Math.floor(i/4) * 30 + 10)\n                    .attr(\"fill\", (d) => colorSchema[d])\n\n    function drawOneLabel(label, index) {\n\n\n        svg.append(\"text\")\n            .attr(\"x\", (index%4)*160 + 10)\n            .attr(\"y\", Math.floor(index/4) * 30 + 10)\n            .attr(\"stroke\", \"white\")\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"dominant-baseline\", \"middle\")\n            .attr(\"font-size\", \"10\")\n            .text(label)\n        \n        svg.append(\"text\")\n            .attr(\"x\", (index%4)*160 + 40)\n            .attr(\"y\", Math.floor(index/4) * 30 + 10)\n            .attr(\"stroke\", \"black\")\n            .attr(\"text-anchor\", \"start\")\n            .attr(\"dominant-baseline\", \"middle\")\n            .attr(\"font-size\", \"10\")\n            .text(fullName[label])\n    }\n\n    for (let i = 0; i < dataArray.length; i++) {\n        drawOneLabel(dataArray[i], i)\n    }\n}\n\nexport default Labels\n","import { Button, Segment, Table } from 'semantic-ui-react'\nimport React from 'react';\nimport MetaPath from './DrawMetaPath.js';\nimport MetaPathLabels from './DrawMetaPathLabels';\nimport ErrorMessage from './DisplayErrorComponent';\n\nexport const MetaPathForm = (props) => {\n    const rows = props.paths.map((path, i) => {\n        return (\n            <Table.Row textAlign='right' key={i}>\n                <Table.Cell key={\"checkbox\" + i.toString()}>\n                    <label>\n                        <input type=\"checkbox\"\n                            name={path}\n                            onChange={props.handleSelect} \n                            defaultChecked={false} /> \n                    </label>\n                </Table.Cell>\n                <Table.Cell key={path}><MetaPath className={path} /></Table.Cell>\n            </Table.Row>\n        )\n    })\n\n    return (\n        <div className={props.shouldDisplay ? '' : 'hidden'}>\n            <ErrorMessage field=\"metapath\" modalOpen={props.showModal} handleClose={props.handleClose}/>\n            <Segment color='red'>\n                <h2> Step 2: Select the MetaPath you want to execute.</h2>\n                <hr />\n                <Table singleLine>\n                    <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell width={1}></Table.HeaderCell>\n                            <Table.HeaderCell>MetaPath</Table.HeaderCell>\n                        </Table.Row>\n                    </Table.Header>\n                    <Table.Body>\n                        {rows}\n                    </Table.Body>\n                </Table>\n                <p>Color Schema</p>\n                <MetaPathLabels />\n                <div className=\"col text-center\">\n                    <Button type='submit' onClick={props.handleBackToStep1}>Back</Button>\n                    <Button type='submit' onClick={props.handleSubmit}>Continue</Button>\n                </div>\n            </Segment>\n        </div>\n    )\n}\n\n\n","import MetaKG from \"@biothings-explorer/smartapi-kg\";\n\nconsole.log(\"Constructing meta kg\");\nconst meta_kg = new MetaKG();\nmeta_kg.constructMetaKGSync();\n\n/** get link to page of results for list of publications\n * @param {Array.<string>} publications Publications in the format \"type:number\", also must all be the same format and either \"PMID\" or \"PMC\"\n * @returns {string} Returns either the url to all of the entries or an empty string\n */\nfunction getPublicationLink(publications) {\n    let pubType = publications[0].split(\":\")[0];\n\n    if (pubType === \"PMID\") {\n        let url = new URL(\"https://pubmed.ncbi.nlm.nih.gov/\");\n        url.searchParams.append(\"term\", publications.map(pub => pub.replace(/\\D+/g, '')).join(',')); //comma separated list of publications (number only)\n        return url.toString();\n\n    } else if  (pubType === \"PMC\") {\n        let url = new URL(\"https://www.ncbi.nlm.nih.gov/pmc/\");\n        url.searchParams.append(\"term\", publications.map(pub => pub.replace(/\\D+/g, '')).join(',')); //comma separated list of publications (number only)\n        return url.toString();\n    } else {\n        return \"\";\n    }\n}\n\nconst recordsToTreeGraph = (records) => {\n    records = Array.from(records);\n    let tree_dict = {};\n    let tree = { children: [] }\n    if (Array.isArray(records) && records.length) {\n        tree['name'] = records[0].split('||')[0];\n    };\n    for (let i = 0; i < records.length; i++) {\n        let rec = records[i].split('||')\n        if (!(rec[3] in tree_dict)) {\n            tree_dict[rec[3]] = new Set([rec[7]]);\n        } else {\n            tree_dict[rec[3]].add(rec[7])\n        }\n    };\n    for (const prop in tree_dict) {\n        let rec = { name: prop, pathProps: prop, children: [] };\n        rec['children'] = Array.from(tree_dict[prop]).map(item => ({ name: item, children: [] }));\n        tree['children'].push(rec);\n    }\n    return tree\n}\n\nconst getIntermediateNodes = (metaPaths) => {\n    return [...metaPaths].map(x => x.split('-').slice(1)[0])\n}\n\nconst findMetaPath = async (input_type, output_type) => {\n    try {\n        // let response = await fetch('http://localhost:8856/explorer_api/v1/find_metapath?input_cls=' + input_type + '&output_cls=' + output_type);\n        // response = await response.json();\n        // return response['edges'];\n        let res1 = new Set(meta_kg.filter({ input_type: input_type }).map(rec => rec.association.output_type));\n        if (res1.size === 0) {\n            return [];\n        }\n\n        let res2 = [];\n        res1.forEach(intermediate => {\n            let tmp = meta_kg.filter({ input_type: intermediate, output_type: output_type });\n            if (tmp.length > 0) {\n                res2.push(input_type + '-' + intermediate + '-' + output_type);\n            }\n        });\n        if (res2.length === 0) {\n            return [];\n        }\n        return res2\n    } catch (err) {\n        console.log(err)\n        return [];\n    }\n}\n\nconst fetchQueryResult = async (input, output, intermediate) => {\n    let url = new URL('https://geneanalysis.ncats.io/explorer_api/v1/connect');\n    let params = {\n        input_obj: JSON.stringify(input),\n        output_obj: JSON.stringify(output),\n        intermediate_nodes: JSON.stringify(intermediate)\n    };\n    url.search = new URLSearchParams(params).toString();\n    try {\n        let response = await fetch(url);\n        if (!response.ok) {\n            return { 'data': [], 'log': [] }\n        };\n        response = await response.json();\n        return response\n    } catch (err) {\n        return { 'data': [], 'log': [] }\n    }\n}\n\nexport { getIntermediateNodes, fetchQueryResult, findMetaPath, recordsToTreeGraph, getPublicationLink };\n","import _ from 'lodash'\nimport React from 'react'\nimport { Table, Pagination, Checkbox, Icon } from 'semantic-ui-react'\nimport { getPublicationLink } from '../shared/utils'\n\nexport default function BTETable(props) {\n    const headers = props.table.display.length > 0 ? Object.keys(props.table.display[0]) : [];\n        \n    return (\n        <div>\n            <h3>Your Query Results</h3>\n            <div style={{overflowX: \"auto\", marginBottom: \"1em\"}}>\n                <Table sortable unstackable celled compact>\n                    <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell>Display</Table.HeaderCell>\n                            {_.map(headers, (item) => (\n                                <Table.HeaderCell\n                                    key={item}\n                                    className={item}\n                                    value={item}\n                                    sorted={props.table.column === item ? props.table.direction : null}\n                                    onClick={props.handleSort}\n                                >\n                                    {item}\n                                </Table.HeaderCell>\n                            ))}\n                        </Table.Row>\n                    </Table.Header>\n                    <Table.Body>\n                        {_.map(props.table.display, (item) => (\n                        <Table.Row key={Object.values(item).join('||') + _.uniqueId()}>\n                            <Table.Cell key='checkbox' textAlign='center'>\n                                <Checkbox toggle\n                                    name={Object.values(item).join('||')}\n                                    onClick={props.handleSelect}\n                                    checked={props.selectedQueryResults.has(Object.values(item).join('||'))}\n                                /> \n                            </Table.Cell>\n                            {_.map(headers, (col, i) => {\n                                if (Array.isArray(item[col])) { //if the item is an array, make it a space separated string (only applies to publications)\n                                    return ( // use collapsing to prevent icon from wrapping\n                                        <Table.Cell key={i} collapsing>\n                                            <div>\n                                                <a href={getPublicationLink(item[col])} target=\"_blank\" rel=\"noopener noreferrer\">Publications ({item[col].length})&nbsp;&nbsp;<Icon name='external alternate' /></a>\n                                            </div>\n                                        </Table.Cell>\n                                    );\n                                } else {\n                                    return (\n                                        <Table.Cell key={i}>\n                                            {item[col]}\n                                        </Table.Cell>\n                                    );\n                                }\n                            })}\n                        </Table.Row>\n                        ))}\n                    </Table.Body>\n                </Table>\n            </div>\n\n            <Pagination\n                onPageChange={props.handlePaginationChange}\n                defaultActivePage={1}\n                totalPages={props.table.totalPages}\n                siblingRange={2}\n                // Heads up! All items are powered by shorthands, if you want to hide one of them, just pass `null` as value\n            />\n        </div>\n    )\n}\n","import React from 'react';\nimport paragraph from '../assets/paragraph.png';\nimport { Dimmer, Loader, Image, Segment } from 'semantic-ui-react'\n\nconst ReactLoader = () => (\n    <Segment>\n        <Dimmer active inverted>\n        <Loader />\n        </Dimmer>\n        <h2>The result might take a couple minutes to show up. </h2>\n        <Image src={paragraph} />\n        <Image src={paragraph} />\n    </Segment>\n)\n\nexport default ReactLoader","import React, { PureComponent } from 'react';\nimport { Grid, Icon, Button, Popup } from 'semantic-ui-react';\n\nimport {colorSchema, semanticTypeShorthand} from '../shared/semanticTypes';\nimport { getPublicationLink } from '../shared/utils';\n\nimport { zip } from 'lodash';\nimport cytoscape from 'cytoscape';\nimport popper from 'cytoscape-popper';\nimport Tippy from 'tippy.js';\nimport 'tippy.js/dist/tippy.css';\ncytoscape.use(popper);\n\n\nexport default class CytoscapeGraph extends PureComponent {\n  constructor(props){\n    super(props);\n\n    this.state = { \n      cy: {}, \n      elements: {nodes: [], edges: []},\n      slots: [0], //array that keeps track of empty slots for middle nodes\n    };\n\n    this.zoomFit = this.zoomFit.bind(this);\n  }\n\n  //modify y-position of node based on slot number (starting from the middle and alternating above and below)\n  heightModifier(slot) {\n    const pixelsPerSlot = 70;\n\n    if (slot === 0) {\n      return 0;\n    } else if (slot % 2 === 0) { //even = below\n      return -1 * (Math.ceil(slot / 2)) * pixelsPerSlot;\n    } else { //odd = above\n      return (Math.ceil(slot / 2)) * pixelsPerSlot;\n    }\n  }\n\n  //get dimensions of enclosing div (for node positioning purposes)\n  getDimensions() { \n    let domRect = document.getElementById('cy').getBoundingClientRect();\n\n    return [domRect.width, domRect.height];\n  }\n\n  addConnection(record, inputType, outputType) {\n    let [width, height] = this.getDimensions();\n    let rec = record.split('||');\n\n    //check if nodes exist and if not add them to list of nodes\n    if (this.state.cy.$id(rec[0]).length === 0) {\n      this.state.cy.add({\n        group: 'nodes',\n        data: {\n          id: rec[0],\n          type: inputType\n        },\n        position: {\n          x: 100,\n          y: height / 2\n        },\n        style: {\n          'background-color': colorSchema[semanticTypeShorthand[inputType]] || 'black'\n        }\n      });\n    }\n\n    if (this.state.cy.$id(rec[4]).length === 0) {\n      let slot = this.state.slots.shift(); //get first open slot\n      if (this.state.slots.length === 0) {\n        this.state.slots.push(slot + 1); //add slot after current if no slots remain\n      }\n\n      this.state.cy.add({\n        group: 'nodes',\n        data: {\n          id: rec[4],\n          type: rec[5],\n          slot: slot,\n        },\n        position: {\n          x: width / 2,\n          y: ((height / 2) + this.heightModifier(slot))\n        },\n        style: {\n          'background-color': colorSchema[semanticTypeShorthand[rec[5]]] || 'black'\n        }\n      });\n    }\n\n    if (this.state.cy.$id(rec[9]).length === 0) {\n      this.state.cy.add({\n        group: 'nodes',\n        data: {\n          id: rec[9],\n          type: outputType,\n        },\n        position: {\n          x: width - 100,\n          y: height / 2\n        },\n        style: {\n          'background-color': colorSchema[semanticTypeShorthand[outputType]] || 'black'\n        }\n      });\n    }\n\n    //add edges\n    let edge1 = this.state.cy.$id(`${rec[0]}-${rec[1]}-${rec[4]}`);\n    if (edge1.length === 0) {\n      this.state.cy.add({\n        group: 'edges',\n        data: {\n          id: `${rec[0]}-${rec[1]}-${rec[4]}`,\n          source: rec[0],\n          target: rec[4],\n          label: rec[1],\n          publications: [rec[3].split(',').join(', ')],\n          apis: [rec[2]],\n          connections: 1\n        }\n      })\n    } else {\n      edge1.data('connections', edge1.data('connections') + 1); // increment connections if edge already exists\n      edge1.data('apis').push(rec[2]);\n      edge1.data('publications').push(rec[3].split(',').join(', '));\n    }\n    \n    let edge2 = this.state.cy.$id(`${rec[4]}-${rec[6]}-${rec[9]}`);\n    if (edge2.length === 0) {\n      this.state.cy.add({\n        group: 'edges',\n        data: {\n          id: `${rec[4]}-${rec[6]}-${rec[9]}`,\n          source: rec[4],\n          target: rec[9],\n          label: rec[6],\n          publications: [rec[8].split(',').join(', ')],\n          apis: [rec[7]],\n          connections: 1\n        },\n      })\n    } else {\n      edge2.data('connections', edge2.data('connections') + 1); // increment connections if edge already exists\n      edge2.data('apis').push(rec[7]);\n      edge2.data('publications').push(rec[8].split(',').join(', '));\n    }\n  }\n\n  deleteConnection(record) {\n    let rec = record.split('||');\n\n    //decrement connections and remove apis/publications then remove edge if connections is 0\n    let edge1 = this.state.cy.$id(`${rec[0]}-${rec[1]}-${rec[4]}`);\n    let edge2 = this.state.cy.$id(`${rec[4]}-${rec[6]}-${rec[9]}`);\n    edge1.data('connections', edge1.data('connections') - 1);\n    edge2.data('connections', edge2.data('connections') - 1);\n    let idx1 = edge1.data('publications').indexOf(rec[3].split(',').join(', '));\n    let idx2 = edge2.data('publications').indexOf(rec[8].split(',').join(', '));\n    edge1.data('apis').splice(idx1, 1);\n    edge1.data('publications').splice(idx1, 1);\n    edge2.data('apis').splice(idx2, 1);\n    edge2.data('publications').splice(idx2, 1);\n\n    if (edge1.data('connections') <= 0) {\n      this.state.cy.remove(edge1);\n    }\n    if (edge2.data('connections') <= 0) {\n      this.state.cy.remove(edge2);\n    }\n\n    // delete nodes if they have no edge connections\n    let node_idxs = [0, 4, 9];\n    node_idxs.forEach((node_idx) => {\n      let node = this.state.cy.$id(rec[node_idx]);\n      if (node.degree() === 0) {\n        if (node.data('slot') !== undefined) { //compare to undefined because slot can be 0\n          this.state.slots.unshift(node.data('slot')); //return deleted slot to available slots\n        }\n\n        this.state.cy.remove(node);\n      }\n    });\n  }\n\n  //initial cytoscape setup\n  componentDidMount() {\n    const container = document.getElementById('cy');\n    const cy = cytoscape({\n      container: container,\n      elements: this.state.elements,\n      style: [\n        {\n          selector: 'node',\n          style: {\n            'label': 'data(id)',\n            'background-color': 'black'\n          }\n        },\n\n        {\n          selector: 'edge',\n          style: {\n            'width': 2,\n            'label': 'data(label)',\n            'text-rotation': 'autorotate',\n            'text-margin-y': '-6',\n            'curve-style': 'bezier',\n            'target-arrow-shape': 'triangle',\n            'line-color': 'black',\n            'target-arrow-color': 'black',\n            'opacity': 0.5\n          }\n        }\n      ],\n      minZoom: 0.1,\n      maxZoom: 15,\n      wheelSensitivity: 0.4,\n      layout: {\n        name: 'preset'\n      }\n    });\n    \n    //show tooltips when clicked\n    cy.on('click', 'node', function(event) {\n      let node = event.target;\n\n      let dummy = document.createElement('div');\n\n      let tip = new Tippy(dummy, {\n        trigger: 'manual',\n        lazy: false,\n        interactive: true,\n        appendTo: document.body,\n        onCreate(instance) { \n          instance.popperInstance.reference = node.popperRef(); \n        },\n        content() {\n          let content = document.createElement('div');\n          content.innerHTML = `\n            <h3>${node.id()}</h3>\n            <p>Type: ${node.data('type')}</p>\n          `;\n          return content;\n        },\n        onUntrigger(instance) {\n          instance.destroy();\n        }\n\n      });\n\n      tip.show();\n    });\n\n    cy.on('click', 'edge', function(event) {\n      let edge = event.target;\n\n      let dummy = document.createElement('div');\n\n      let tip = new Tippy(dummy, {\n        trigger: 'manual',\n        lazy: false,\n        interactive: true,\n        appendTo: document.body,\n        onCreate(instance) { \n          instance.popperInstance.reference = edge.popperRef();\n        },\n        content() {\n          let content = document.createElement('div');\n          console.log(edge.data('publications'));\n          content.innerHTML = `\n            <h3>Publications</h3>\n            ${edge.data('publications').join(\"\")\n              ? `<p><a href=\"${getPublicationLink(edge.data('publications').join(\", \").split(\", \"))}\" target=\"_blank\" rel=\"noopener noreferrer\">Open All Publications <i class=\"external alternate icon\"></i></a></p>`\n              : \"\"}\n            \n            ${zip(edge.data('apis'), edge.data('publications')).map((combo) => ( //convert apis and publications arrays into paragraphs with the format api:publications\n              combo[1] //don't show a link if there are no publications\n              ? `<p><strong>${combo[0]}</strong>:<br> <a href=\"${getPublicationLink(combo[1].split(\", \"))}\" target=\"_blank\" rel=\"noopener noreferrer\">Publications (${combo[1].split(\", \").length}) <i class=\"external alternate icon\"></i></a></p>` \n              : `<p><strong>${combo[0]}</strong>: No publications`\n            )).join(\"\")}\n          `;\n          return content;\n        },\n        onUntrigger(instance) {\n          instance.destroy();\n        }\n      });\n      \n      tip.show();\n    });\n\n    this.setState({cy: cy}); \n  }\n\n  zoomFit() {\n    let [width, height] = this.getDimensions();\n    this.state.cy.fit();\n    this.state.cy.zoom({level: this.state.cy.zoom() * 0.99, position: {x: width/2, y: height/2}});\n  }\n\n  render() {\n    return (\n      <div>\n        <Grid columns={2}>\n          <Grid.Row>\n            <Grid.Column>\n              <h2>\n                Graph &nbsp;&nbsp;\n                <Popup \n                  content=\"Use the toggles on the table to add results to the graph. \n                    Click on a node for more info on that node. Click on an edge to see publications for that relationship. \n                    Click the 'Zoom Fit' button to fit the graph to the viewport.\"\n                  trigger={ <Icon circular name=\"info\" size=\"tiny\" style={{verticalAlign: 4}}/> }\n                /> \n                </h2>\n            </Grid.Column>\n            <Grid.Column style={{textAlign: \"right\"}}>\n              <Button basic compact style={{marginRight: 0, marginBottom: 5}} onClick={this.zoomFit}><Icon name=\"search\" />Zoom Fit</Button>\n              </Grid.Column>\n          </Grid.Row>\n        </Grid>\n        <div id=\"cy\" style={{ height: 600, border: \"1px solid #ddd\" }}></div>\n      </div>\n    )\n  }\n}","import BTETable from '../../components/DisplayTableResult';\nimport ReactLoader from '../../components/DimerComponent';\nimport React, { Component } from 'react';\nimport { Segment, Divider, Button,  Modal } from 'semantic-ui-react';\nimport CytoscapeGraph from '../../components/CytoscapeGraphComponent';\n\nexport default class ExplainQueryResult extends Component {\n\n    render() {\n        const paragraphs = this.props.logs.map((log, i) => {\n            return (\n                <p key={i}>{log}</p>\n            )\n        })\n\n        return (\n            <div className={this.props.shouldDisplay ? '' : 'hidden'}>\n                <Segment color='blue'>\n                    {this.props.resultReady ? null: <ReactLoader />}\n                    {this.props.resultReady && this.props.content.length === 0 ? <h2 className=\"emptyQueryResult\">\n                        Sorry, no results could be found for your query. Please refine your search!</h2> : ''}\n                    {this.props.resultReady && this.props.content.length > 0? <div>\n                        <h2> Step 3: Select the Query Result you want to display.</h2>\n                        <hr />\n                        <Modal trigger={<Button basic color=\"red\" className=\"logButton\">Query Execution Logs</Button>} closeIcon>\n                            <Modal.Header>Query Execution Logs</Modal.Header>\n                            <Modal.Description>\n                                {paragraphs}\n                            </Modal.Description>\n                        </Modal>\n                        <BTETable\n                            handleSelect={this.props.handleSelect}\n                            content={this.props.content}\n                            table={this.props.table}\n                            handleSort={this.props.handleSort}\n                            handlePaginationChange={this.props.handlePaginationChange}\n                            selectedQueryResults={this.props.selectedQueryResults}\n                        />\n                        <Divider />\n                    </div> : null}\n                    \n                    <CytoscapeGraph ref={this.props.graphRef} />\n                </Segment>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react';\nimport { Container } from 'semantic-ui-react';\nimport { Navigation } from '../../components/Breadcrumb';\nimport AccordionComponent from '../../components/AccordionComponent';\nimport Steps from '../../components/StepsComponent';\nimport ExplainInput from './ExplainInputComponent';\nimport { MetaPathForm } from '../../components/MetaPathFormComponent';\nimport ExplainQueryResult from './ExplainQueryResultComponent';\nimport { getIntermediateNodes, findMetaPath } from '../../shared/utils';\nimport query from \"@biothings-explorer/explain\";\n\nlet _ = require('lodash');\n\n//forward ref so we can call addConnection and deleteConnection in CytoscapeGraphComponent from this component\nconst ExplainQueryResultWrapper = React.forwardRef((props, ref) => {\n    return (<ExplainQueryResult graphRef={ref} {...props} />);\n});\n\nclass Explain extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentStep: 1,\n            step1Complete: false,\n            step2Complete: false,\n            step3Complete: false,\n            resultReady: false,\n            selectedInput: {},\n            selectedOutput: {},\n            paths: [],\n            selectedPaths: new Set(),\n            queryResults: { 'data': [], 'log': [] },\n            table: {\n                column: null,\n                display: [],\n                direction: null,\n                activePage: 1,\n                totalPages: 1\n            },\n            selectedQueryResults: new Set(),\n            step1ShowError: false,\n            step2ShowError: false\n        };\n\n        this.graphRef = React.createRef();\n\n        this.handleStep1Submit = this.handleStep1Submit.bind(this);\n        this.handleStep2Submit = this.handleStep2Submit.bind(this);\n        this.handleInputSelect = this.handleInputSelect.bind(this);\n        this.handleOutputSelect = this.handleOutputSelect.bind(this);\n        this.handleMetaPathSelect = this.handleMetaPathSelect.bind(this);\n        this.handleQueryResultSelect = this.handleQueryResultSelect.bind(this);\n        this.handleBackToStep1 = this.handleBackToStep1.bind(this);\n        this.handleBackToStep2 = this.handleBackToStep2.bind(this);\n        this.handleBackToStep3 = this.handleBackToStep3.bind(this);\n        this.handleStep1Close = this.handleClose.bind(this, 'step1ShowError');\n        this.handleStep2Close = this.handleClose.bind(this, 'step2ShowError');\n        this.handlePaginationChange = this.handlePaginationChange.bind(this);\n        this.handleSort = this.handleSort.bind(this);\n    };\n\n    //this function will be passed to autocomplete component\n    //in order to retrieve the selected input\n    handleInputSelect(value) {\n        this.setState({\n            selectedInput: value\n        });\n    }\n\n    //this function will be passed to autocomplete component\n    //in order to retrieve the selected output\n    handleOutputSelect(value) {\n        this.setState({\n            selectedOutput: value\n        });\n    }\n\n    handleMetaPathSelect(event) {\n        const selectedPaths = this.state.selectedPaths;\n        if (event.target.checked) {\n            selectedPaths.add(event.target.name)\n        } else {\n            selectedPaths.delete(event.target.name)\n        }\n        this.setState({ selectedPaths: selectedPaths })\n    }\n\n    handleQueryResultSelect(event, data) {\n        const selectedQueryResults = this.state.selectedQueryResults;\n        if (data.checked) {\n            selectedQueryResults.add(data.name);\n            this.graphRef.current.addConnection(data.name, this.state.selectedInput.type, this.state.selectedOutput.type);\n        } else {\n            selectedQueryResults.delete(data.name);\n            this.graphRef.current.deleteConnection(data.name);\n        }\n        \n        this.setState({\n            selectedQueryResults: selectedQueryResults,\n        });\n    }\n\n    handleClose = (item) => this.setState({\n        [item]: false\n    })\n\n    async handleStep1Submit(event) {\n        event.preventDefault();\n        if (_.isEmpty(this.state.selectedInput) || _.isEmpty(this.state.selectedOutput)) {\n            this.setState({\n                step1ShowError: true\n            });\n        } else {\n            this.setState({\n                currentStep: 2,\n                step1Complete: true,\n                step2Complete: false,\n                step3Complete: false,\n                selectedPaths: new Set(),\n                queryResults: { 'data': [], 'log': [] },\n                selectedQueryResults: new Set(),\n                graph: { nodes: [], links: [] },\n                table: {\n                    column: null,\n                    display: [],\n                    direction: null,\n                    activePage: 1,\n                    totalPages: 1\n                },\n            });\n            let edges = await findMetaPath(this.state.selectedInput.type,\n                this.state.selectedOutput.type);\n            console.log('edges', edges);\n            this.setState({\n                paths: edges\n            });\n        }\n    }\n\n    handleBackToStep1(event) {\n        event.preventDefault();\n        this.setState({\n            currentStep: 1\n        })\n    }\n\n    async handleStep2Submit(event) {\n        event.preventDefault();\n        let intermediate_nodes = getIntermediateNodes(this.state.selectedPaths);\n        if (intermediate_nodes.length === 0) {\n            this.setState({\n                step2ShowError: true\n            });\n        } else {\n            this.setState({\n                currentStep: 3,\n                step2Complete: true,\n                resultReady: false,\n                table: {\n                    column: null,\n                    display: [],\n                    direction: null,\n                    activePage: 1,\n                    totalPages: 1\n                },\n            });\n            // let response = await fetchQueryResult(this.state.selectedInput,\n            //     this.state.selectedOutput,\n            //     intermediate_nodes)\n            let q = new query();\n            q.meta_kg.ops = q.meta_kg.ops.filter(item => item.query_operation.tags.includes('biothings'));\n            let response = await q.query(this.state.selectedInput, this.state.selectedOutput, intermediate_nodes);\n            if (response.data.length === 0) {\n                this.setState({\n                    resultReady: true,\n                    step3Complete: true,\n                    queryResults: { 'data': [], 'log': [] }\n                })\n            } else {\n                this.setState({\n                    queryResults: response,\n                    table: {\n                        ...this.state.table,\n                        display: response['data'].slice(this.state.table.activePage * 10 - 10, this.state.table.activePage * 10),\n                        totalPages: Math.ceil(response['data'].length / 10)\n                    },\n                    resultReady: true,\n                    step3Complete: true\n                });\n            }\n        }\n    }\n\n    handleBackToStep2(event) {\n        event.preventDefault();\n        this.setState({\n            currentStep: 2\n        })\n    }\n\n    handleBackToStep3(event) {\n        event.preventDefault();\n        this.setState({\n            currentStep: 3\n        })\n    }\n\n    handleSort(event) {\n        let clickedColumn = event.target.className.split(' ').slice(-1)[0];\n\n        const { column, direction } = this.state.table;\n\n        let new_data;\n        if (column !== clickedColumn) { //sort new column\n            if (clickedColumn.includes(\"publications\")) {//sort publications by length and everything else by alphabetical order\n                new_data = _.sortBy(this.state.queryResults['data'], [function(o) { return _.get(o[clickedColumn], 'length', 0)}]);\n            } else {\n                new_data = _.sortBy(this.state.queryResults['data'], [clickedColumn]);\n            }\n\n            this.setState({\n                table: {\n                    ...this.state.table,\n                    column: clickedColumn,\n                    direction: 'ascending',\n                    display: new_data.slice(this.state.table.activePage * 10 - 10, this.state.table.activePage * 10),\n                },\n                queryResults: {\n                    ...this.state.queryResults,\n                    data: new_data\n                }\n            });\n        } else { //reverse sorted column\n            new_data = this.state.queryResults['data'].reverse()\n            this.setState({\n                table: {\n                    ...this.state.table,\n                    direction: direction === 'ascending' ? 'descending' : 'ascending',\n                    display: this.state.queryResults['data'].slice(this.state.table.activePage * 10 - 10, this.state.table.activePage * 10),\n                },\n                queryResults: {\n                    ...this.state.queryResults,\n                    data: new_data,\n                }\n            });\n        }\n    }\n\n    handlePaginationChange = (e, { activePage }) => {\n        this.setState({\n            table: {\n                ...this.state.table,\n                display: this.state.queryResults['data'].slice(activePage * 10 - 10, activePage * 10),\n                activePage: activePage\n            }\n        });\n    }\n\n    render() {\n        return (\n            <Container className=\"feature\">\n                <Navigation name=\"Explain\"></Navigation>\n                <AccordionComponent />\n                <hr />\n                <Steps\n                    currentStep={this.state.currentStep}\n                    step1Complete={this.state.step1Complete}\n                    step2Complete={this.state.step2Complete}\n                    step3Complete={this.state.step3Complete}\n                    handleBackToStep1={this.handleBackToStep1}\n                    handleBackToStep2={this.handleBackToStep2}\n                    handleBackToStep3={this.handleBackToStep3}\n                />\n                <ExplainInput\n                    shouldDisplay={this.state.currentStep === 1}\n                    showModal={this.state.step1ShowError}\n                    handleClose={this.handleStep1Close}\n                    handleStep1Submit={this.handleStep1Submit}\n                    handleInputSelect={this.handleInputSelect}\n                    handleOutputSelect={this.handleOutputSelect}\n                />\n                <MetaPathForm\n                    shouldDisplay={this.state.currentStep === 2}\n                    showModal={this.state.step2ShowError}\n                    handleClose={this.handleStep2Close}\n                    paths={this.state.paths}\n                    handleSelect={this.handleMetaPathSelect}\n                    handleSubmit={this.handleStep2Submit}\n                    handleBackToStep1={this.handleBackToStep1}\n                />\n                <ExplainQueryResultWrapper\n                    shouldDisplay={this.state.currentStep === 3}\n                    resultReady={this.state.resultReady}\n                    content={this.state.queryResults['data']}\n                    table={this.state.table}\n                    handleSort={this.handleSort}\n                    handlePaginationChange={this.handlePaginationChange}\n                    logs={this.state.queryResults['log']}\n                    handleSelect={this.handleQueryResultSelect}\n                    graph={this.state.graph}\n                    ref={this.graphRef}\n                    selectedQueryResults={this.state.selectedQueryResults}\n                />\n            </Container>\n        )\n    }\n}\n\nexport default Explain;\n","import React, { Component } from 'react'\nimport { Accordion, Icon, List } from 'semantic-ui-react'\n\nexport default class AccordionComponent extends Component {\n  state = { activeIndex: 10 }\n\n  handleClick = (e, titleProps) => {\n    const { index } = titleProps\n    const { activeIndex } = this.state\n    const newIndex = activeIndex === index ? -1 : index\n\n    this.setState({ activeIndex: newIndex })\n  }\n\n  render() {\n    const { activeIndex } = this.state\n\n    return (\n      <div>\n        <br></br>\n        <Icon circular name='info' />\n        <Accordion>\n          <Accordion.Title\n            active={activeIndex === 0}\n            index={0}\n            onClick={this.handleClick}\n          >\n            <Icon name='dropdown' />\n            What can <b>\"PREDICT\"</b> queries do?\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 0}>\n            <p>\n            PREDICT queries are designed to predict plausible relationships between one entity and an entity class.\n            </p>\n          </Accordion.Content>\n\n          <Accordion.Title\n            active={activeIndex === 1}\n            index={1}\n            onClick={this.handleClick}\n          >\n            <Icon name='dropdown' />\n            Give me some examples of <b>\"PREDICT\"</b> queries.\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 1}>\n            <List bulleted>\n              <List.Item>What <b>drugs</b> might be used to treat <b>hyperphenylalaninemia</b>?\"</List.Item>\n              <List.Item>What <b>genes</b> are in the same pathway as <b>CDK7</b>?</List.Item>\n            </List>\n          </Accordion.Content>\n        </Accordion>\n      </div>\n    )\n  }\n}","import _ from 'lodash'\nimport React, { Component } from 'react'\nimport { Search } from 'semantic-ui-react'\nimport {semanticTypeShorthand} from '../shared/semanticTypes'\n\nconst initialState = { isLoading: false, results: [], value: '' }\n\nexport default class SearchSemanticTypeComponent extends Component {\n    state = initialState\n\n\n    handleResultSelect = (e, { result }) => {\n        this.setState({ value: result.title });\n        this.props.handleSelect(result.title);\n    }\n\n    handleSearchChange = (e, { value }) => {\n        this.setState({ isLoading: true, value })\n        setTimeout(() => {\n            if (this.state.value.length < 1) return this.setState(initialState)\n\n            const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n            const isMatch = (result) => re.test(result)\n\n            this.setState({\n            isLoading: false,\n            results: _.filter(_.keys(semanticTypeShorthand), isMatch).map(item => ({'title': item})),\n            })\n        }, 300)\n    }\n\n  render() {\n    const { isLoading, value, results } = this.state\n\n    return (\n          <Search\n            loading={isLoading}\n            onResultSelect={this.handleResultSelect}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, {\n              leading: true,\n            })}\n            results={results}\n            value={value}\n            {...this.props}\n          />\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport {autocomplete} from 'biomedical-id-autocomplete';\nimport AutoComplete from '../../components/AutoCompleteComponent';\nimport SearchSemanticTypeComponent from '../../components/SemanticTypesAutocompleteComponent';\nimport { Form, Button, Segment, Popup } from 'semantic-ui-react';\nimport ErrorMessage from '../../components/DisplayErrorComponent';\n\nexport default class PredictInput extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            autocomplete1: {\n                isLoading: false,\n                results: [],\n                value: ''\n            },\n        };\n        this.handleSearchChange1 = this.handleSearchChange1.bind(this);\n    }\n\n    handleSearchChange1 = (e, { value }) => {\n        this.setState({\n            autocomplete1: {\n                ...this.state.autocomplete1,\n                isLoading: true,\n                value\n            }\n        })\n        autocomplete(value)\n        .then(response => {\n            var new_response = {};\n            for (var semantic_type in response) {\n                if (response[semantic_type].length > 0) {\n                new_response[semantic_type] = {name: semantic_type, results: []};\n                var content = response[semantic_type].map(function(record, i) {\n                    return {\n                        ...record, \n                        'title': record['name'], \n                        'description': record['display'],\n                        'key': record['name'] + i.toString()\n                    }\n                });\n                new_response[semantic_type]['results'] = content;\n                }\n            }\n            this.setState({\n                autocomplete1: {\n                    ...this.state.autocomplete1,\n                    isLoading: false,\n                    results: new_response\n                }\n            })\n        })\n    }\n\n    render() {\n        return (\n            <div className={this.props.shouldDisplay ? '' : 'hidden'}>\n                <ErrorMessage field='input/output' modalOpen={this.props.showModal} handleClose={this.props.handleClose} />\n                <Segment color=\"green\">\n                    <Form onSubmit={this.props.handleStep1Submit}>\n                        <Form.Group>\n                            <h2> Step 1: Specify source and target nodes.</h2>\n                            <hr />\n                        </Form.Group>\n                        <div>\n                            <Popup content=\"The starting node of the paths\" trigger={<h3>Source Node</h3>}/>\n                        </div>\n                        <br />\n                        <Form.Group>\n                            <AutoComplete \n                                handleselect={this.props.handleInputSelect}\n                                handleSearchChange={this.handleSearchChange1}\n                                state={this.state.autocomplete1}\n                            />\n                        </Form.Group>\n                        <div>\n                            <Popup content=\"The ending node of the paths\" trigger={<h3>Target Node</h3>}/>\n                        </div>\n                        <br />\n                        <Form.Group>\n                            <SearchSemanticTypeComponent \n                                handleSelect={this.props.handleOutputSelect}\n                            />\n                        </Form.Group>\n                        <div className=\"col text-center\">\n                            <Button type='submit' onClick={this.props.handleStep1Submit}>Continue</Button>\n                        </div>\n                    </Form>\n                </Segment>\n            </div>\n        )\n    }\n}\n\n","import React from 'react';\nimport Tree from 'react-tree-graph';\nimport 'react-tree-graph/dist/style.css'\n\nexport default function TreeGraph ({graph}) {\n    return (\n        <div>\n            <h3>Graph</h3>\n            <Tree\n                data={graph}\n                height={700}\n                width={800}/>\n        </div>\n    )\n}\n","import BTETable from '../../components/DisplayTableResult';\nimport ReactLoader from '../../components/DimerComponent';\nimport React, { Component } from 'react';\nimport { Segment, Divider, Modal, Button } from 'semantic-ui-react';\nimport TreeGraph from '../../components/TreeGraphComponent';\n\nexport default class PredictQueryResult extends Component {\n    render() {\n        const paragraphs = this.props.logs.map((log) => {\n            return (\n                <p>{log}</p>\n            )\n        })\n\n        return (\n            <div className={this.props.shouldDisplay ? '' : 'hidden'}>\n                <Segment color='blue'>\n                    {this.props.resultReady ? null: <ReactLoader />}\n                    {this.props.resultReady && this.props.content.length === 0 ? <h2 className=\"emptyQueryResult\">Sorry, no results could be found for your query. Please refine your search!</h2> : ''}\n                    \n                    {this.props.resultReady && this.props.content.length > 0? \n                    <div>\n                        <h2> Step 3: Select the Query Result you want to display.</h2>\n                        <hr />\n                        <Modal trigger={<Button basic color=\"red\" className=\"logButton\">Query Execution Logs</Button>} closeIcon>\n                            <Modal.Header>Query Execution Logs</Modal.Header>\n                            <Modal.Description>\n                                {paragraphs}\n                            </Modal.Description>\n                        </Modal>\n                        <BTETable\n                            resultReady={this.props.resultReady}\n                            content={this.props.content}\n                            handleSelect={this.props.handleSelect}\n                            table={this.props.table}\n                            handleSort={this.props.handleSort}\n                            handlePaginationChange={this.props.handlePaginationChange}\n                        />\n                        <Divider />\n                    </div> : null}\n                    {Object.keys(this.props.graph).length === 0 ? null: \n                        <TreeGraph graph={this.props.graph} />\n                    }           \n                </Segment>\n            </div>\n        )\n    }\n}\n\n","import React, { Component } from 'react';\nimport { Container } from 'semantic-ui-react';\nimport { Navigation } from '../../components/Breadcrumb';\nimport AccordionComponent from './PredictHelpComponent';\nimport Steps from '../../components/StepsComponent';\nimport PredictInput from './PredictInputComponent';\nimport { MetaPathForm } from '../../components/MetaPathFormComponent';\nimport PredictQueryResult from './PredictQueryResultComponent';\nimport { recordsToTreeGraph, getIntermediateNodes, findMetaPath, fetchQueryResult } from '../../shared/utils';\n\nlet _ = require('lodash');\n\nclass Predict extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentStep: 1,\n            step1Complete: false,\n            step2Complete: false,\n            step3Complete: false,\n            step1ShowError: false,\n            step2ShowError: false,\n            selectedInput: {},\n            selectedOutput: {},\n            paths: [],\n            selectedPaths: new Set(),\n            queryResults: [],\n            queryLog: [],\n            table: {\n                column: null,\n                display: [],\n                direction: null,\n                activePage: 1,\n                totalPages: 1\n            },\n            selectedQueryResults: new Set(),\n            graph: {},\n        };\n        this.handleStep1Submit = this.handleStep1Submit.bind(this);\n        this.handleStep2Submit = this.handleStep2Submit.bind(this);\n        this.handleInputSelect = this.handleInputSelect.bind(this);\n        this.handleOutputSelect = this.handleOutputSelect.bind(this);\n        this.handleMetaPathSelect = this.handleMetaPathSelect.bind(this);\n        this.handleQueryResultSelect = this.handleQueryResultSelect.bind(this);\n        this.handleBackToStep1 = this.handleBackToStep1.bind(this);\n        this.handleBackToStep2 = this.handleBackToStep2.bind(this);\n        this.handleBackToStep3 = this.handleBackToStep3.bind(this);\n        this.handlePaginationChange = this.handlePaginationChange.bind(this);\n        this.handleSort = this.handleSort.bind(this);\n        this.handleStep1Close = this.handleClose.bind(this, 'step1ShowError');\n        this.handleStep2Close = this.handleClose.bind(this, 'step2ShowError');\n    };\n\n    //this function will be passed to autocomplete component\n    //in order to retrieve the selected input\n    handleInputSelect(value) {\n        this.setState({\n            selectedInput: value\n        });\n    }\n\n    //this function will be passed to autocomplete component\n    //in order to retrieve the selected output\n    handleOutputSelect(value) {\n        this.setState({\n            selectedOutput: value\n        });\n    }\n\n    handleMetaPathSelect(event) {\n        const selectedPaths = this.state.selectedPaths;\n        if (event.target.checked) {\n            selectedPaths.add(event.target.name)\n        } else {\n            selectedPaths.delete(event.target.name)\n        }\n        this.setState({ selectedPaths: selectedPaths })\n    }\n\n    handleQueryResultSelect(event) {\n        const selectedQueryResults = this.state.selectedQueryResults;\n        if (event.target.checked) {\n            selectedQueryResults.add(event.target.name)\n        } else {\n            selectedQueryResults.delete(event.target.name)\n        }\n        const graph = recordsToTreeGraph(selectedQueryResults)\n        this.setState({\n            selectedQueryResults: selectedQueryResults,\n            graph: graph\n        })\n    }\n\n    handleClose = (item) => this.setState({\n        [item]: false\n    })\n\n    async handleStep1Submit(event) {\n        event.preventDefault();\n        if (_.isEmpty(this.state.selectedInput) || _.isEmpty(this.state.selectedOutput)) {\n            this.setState({\n                step1ShowError: true\n            });\n        } else {\n            this.setState({\n                currentStep: 2,\n                step1Complete: true,\n                step2Complete: false,\n                step3Complete: false,\n                selectedPaths: new Set(),\n                queryResults: [],\n                selectedQueryResults: new Set(),\n                graph: {},\n            })\n            let edges = await findMetaPath(this.state.selectedInput.type,\n                this.state.selectedOutput);\n            this.setState({\n                paths: edges\n            });\n        }\n    }\n\n    handleBackToStep1(event) {\n        event.preventDefault();\n        this.setState({\n            currentStep: 1\n        })\n    }\n\n    async handleStep2Submit(event) {\n        event.preventDefault();\n        let intermediate_nodes = getIntermediateNodes(this.state.selectedPaths);\n        if (intermediate_nodes.length === 0) {\n            this.setState({\n                step2ShowError: true\n            });\n        } else {\n            this.setState({\n                currentStep: 3,\n                step2Complete: true\n            })\n            let response = await fetchQueryResult(this.state.selectedInput,\n                this.state.selectedOutput,\n                intermediate_nodes)\n            if (response.data.length === 0) {\n                this.setState({\n                    step3Complete: true,\n                    queryResults: []\n                })\n            } else {\n                this.setState({\n                    queryResults: response['data'],\n                    table: {\n                        ...this.state.table,\n                        display: response['data'].slice(this.state.table.activePage * 10 - 10, this.state.table.activePage * 10),\n                        totalPages: Math.ceil(response['data'].length / 10)\n                    },\n                    queryLog: response['log'], step3Complete: true\n                });\n            }\n        }\n    }\n\n\n\n    handleBackToStep2(event) {\n        event.preventDefault();\n        this.setState({\n            currentStep: 2\n        })\n    }\n\n    handleBackToStep3(event) {\n        event.preventDefault();\n        this.setState({\n            currentStep: 3\n        })\n    }\n\n    handleSort(event) {\n        let clickedColumn = event.target.className.split(' ').slice(-1)[0];\n\n        const { column, direction } = this.state.table;\n\n        if (column !== clickedColumn) {\n            this.setState({\n                table: {\n                    ...this.state.table,\n                    column: clickedColumn,\n                    direction: 'descending',\n                },\n                queryResults: _.sortBy(this.state.queryResults, [clickedColumn])\n            });\n            return\n        }\n\n        this.setState({\n            table: {\n                ...this.state.table,\n                direction: direction === 'ascending' ? 'descending' : 'ascending',\n                display: this.state.queryResults.slice(this.state.table.activePage * 10 - 10, this.state.table.activePage * 10),\n            },\n            queryResults: this.state.queryResults.reverse(),\n        });\n    }\n\n    handlePaginationChange = (e, { activePage }) => {\n        this.setState({\n            table: {\n                ...this.state.table,\n                display: this.state.queryResults.slice(activePage * 10 - 10, activePage * 10),\n                activePage: activePage\n            }\n        });\n    }\n\n    render() {\n        return (\n            <Container className=\"feature\">\n                <Navigation name=\"Predict\" />\n                <AccordionComponent />\n                <Steps\n                    currentStep={this.state.currentStep}\n                    step1Complete={this.state.step1Complete}\n                    step2Complete={this.state.step2Complete}\n                    step3Complete={this.state.step3Complete}\n                    handleBackToStep1={this.handleBackToStep1}\n                    handleBackToStep2={this.handleBackToStep2}\n                    handleBackToStep3={this.handleBackToStep3}\n                />\n                <PredictInput\n                    shouldDisplay={this.state.currentStep === 1}\n                    showModal={this.state.step1ShowError}\n                    handleClose={this.handleStep1Close}\n                    handleStep1Submit={this.handleStep1Submit}\n                    handleInputSelect={this.handleInputSelect}\n                    handleOutputSelect={this.handleOutputSelect}\n                />\n                <MetaPathForm\n                    shouldDisplay={this.state.currentStep === 2}\n                    showModal={this.state.step2ShowError}\n                    handleClose={this.handleStep2Close}\n                    paths={this.state.paths}\n                    handleSelect={this.handleMetaPathSelect}\n                    handleSubmit={this.handleStep2Submit}\n                    handleBackToStep1={this.handleBackToStep1}\n                />\n                <PredictQueryResult\n                    shouldDisplay={this.state.currentStep === 3}\n                    resultReady={this.state.step3Complete}\n                    content={this.state.queryResults}\n                    table={this.state.table}\n                    handleSort={this.handleSort}\n                    handlePaginationChange={this.handlePaginationChange}\n                    logs={this.state.queryLog}\n                    handleSelect={this.handleQueryResultSelect}\n                    graph={this.state.graph}\n                />\n            </Container>\n        )\n    }\n}\n\nexport default Predict;","import React, { Component } from 'react';\nimport Home from './Home';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Explain from \"./explain/ExplainComponent\";\nimport Predict from \"./predict/PredictComponent\";\nimport { Route, withRouter } from 'react-router-dom';\n\n\nclass Main extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: []\n    }\n  }\n\n  render() {\n    return (\n      <div>\n          <Header />\n          <Route exact path='/' component={Home}></Route>\n          <Route exact path='/predict' component={Predict}></Route>\n          <Route exact path='/explain' component={Explain}></Route>\n          <Footer />\n      </div>\n    );\n  }\n  \n}\n\nexport default withRouter((Main));\n","import React, { Component } from 'react';\nimport Main from './domain/Main';\nimport './App.css';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nclass App extends Component {\n\n  render() {\n    return (\n      <BrowserRouter basename='/explorer'>\n        <Main />\n      </BrowserRouter>\n    );\n  }\n  \n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnEAAADVCAMAAAAPQVbbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjhCQkM5Qzc0REEyMTFFNEFGQjE5MEZCRUE1OUQ2MzIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjhCQkM5QzY0REEyMTFFNEFGQjE5MEZCRUE1OUQ2MzIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMxMzI0MDhBNERBMTExRTQ5NENDRTFCRDlGRkQxOEQxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMxMzI0MDhCNERBMTExRTQ5NENDRTFCRDlGRkQxOEQxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Efm4+wAAAwBQTFRFvL7AycrMwMLEyMnL5ufo/f39xMXH7Ozt9/f3v8HD0dLU29zd4uLj3d7f+vr6+Pn55ebn09XWxsjKwcPF+fn6/v7+wsTG9/j4yMrLzc7Q8PDx8vPzxMbIxsjJ+Pj4w8XH+fn5vsDC0NHT2tvc+Pj54+Tl2Nna8fHy/v7/xcbIzM3P3+Dh6uvrxsfJ+fr6/f3+xMbHxcfI7+/wxcfJ9vb34+Pk7e7uvb/A+/v78fHx1dfY9vb2z9HS5OXmycvMvsDB+vr77e3u2dvc4uPk7/DwwcPE6+vs5+jp9vf36erqysvN9/f44eLj5+joz9DSyszN////UVFRUlJSU1NTVFRUVVVVVlZWV1dXWFhYWVlZWlpaW1tbXFxcXV1dXl5eX19fYGBgYWFhYmJiY2NjZGRkZWVlZmZmZ2dnaGhoaWlpampqa2trbGxsbW1tbm5ub29vcHBwcXFxcnJyc3NzdHR0dXV1dnZ2d3d3eHh4eXl5enp6e3t7fHx8fX19fn5+f39/gICAgYGBgoKCg4ODhISEhYWFhoaGh4eHiIiIiYmJioqKi4uLjIyMjY2Njo6Oj4+PkJCQkZGRkpKSk5OTlJSUlZWVlpaWl5eXmJiYmZmZmpqam5ubnJycnZ2dnp6en5+foKCgoaGhoqKio6OjpKSkpaWlpqamp6enqKioqampqqqqq6urrKysra2trq6ur6+vsLCwsbGxsrKys7OztLS0tbW1tra2t7e3uLi4ubm5urq6u7u7vLy8vb29vr6+v7+/wMDAwcHBwsLCw8PDxMTExcXFxsbGx8fHyMjIycnJysrKy8vLzMzMzc3Nzs7Oz8/P0NDQ0dHR0tLS09PT1NTU1dXV1tbW19fX2NjY2dnZ2tra29vb3Nzc3d3d3t7e39/f4ODg4eHh4uLi4+Pj5OTk5eXl5ubm5+fn6Ojo6enp6urq6+vr7Ozs7e3t7u7u7+/v8PDw8fHx8vLy8/Pz9PT09fX19vb29/f3+Pj4+fn5+vr6+/v7/Pz8/f39/v7+////nkVZUQAAAFF0Uk5T//////////////////////////////////////////////////////////////////////////////////////////////////////////8AaOyowQAAArhJREFUeNrs3WsrBFEAx+FZtOUWlrAubax1CSWSkrskt/j+38IbrCIfYDLl7JzZsfs8H+HMr31z/jObnCXDkJ+j4Y+XLMlWArmayy6u5oRQHIoDxaE4UByKQ3GgOBQHiuPfFbfkhCi0uJG9CuSnVmlnF/cCRVIcikNxoDgUB4pDcSgOFIfiQHEoDhRHqYob2h6DINtPIcVVLQgJVQspbtm5EWowpDjvORBsXnEoDsUpDsWhOFAcikNxikNxKE5xdKu4hnMjVNBN/nVzHIJctSwysQEGxaE4FAeKQ3GgOBQHikNxKA4Uh+LgL8Wtzg5CUaaPbYApVF1xKA7FgeJQHCgOxaE4KLA43zqn2OJ2ToegKK1LN/nYjqA4UByKA8WhOBQHikNxoDgUB4pDcfRxcffJAPzqfCPv4myAybSgOBSH4hSH4lCc4lAcikNxikNxKE5xlLG4LWdKlv28i3t2k0+Gldxv8s1nsI9DcaA4FAeKQ3EoDhSH4kBxKA4Uh+Lo3+J2LcCIZ7qdKs4GmJjFzSgOxaE4UByKA8WhOBSnOBRH3xQ3Uq1ALPULN/nYjqA4UByKA8WhOFAcikNxoDgUB4pDcaA4FIfiIPfiGpbRdOz1D8V5z4HOLSoOxaE4xaE4FAeKQ3EoTnEoDsUlj+uj0JHm6JqbfGxHQHEoDsWB4lAcKA7FgeJQHIoDxaE4UBylK+4LIkoXV1+pQizzn6nilkymiWdgIlWc9xyIyH9IozgUB4pDcaA4FIfiFEdXiztwKsRz004Vt+xUiPgbly7u4+0dYnn4to/DIhPFgeJQHCgOxYHiUByKA8WhOFAcigPF0aXi7g4ne0/r1pMtbXG9+aWb2W+PtqzF1RSH4hSnOMWhOMUpTnEoDsUpTnGKQ3GKU5ziyKG4huIotLjmyVTvWV3f9GhL6keAAQAI4Bq5ZLODegAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/bte-explain.3398c417.png\";","module.exports = __webpack_public_path__ + \"static/media/bte-predict.16a4b950.png\";","module.exports = __webpack_public_path__ + \"static/media/biothings-explorer-text.8ec6e86e.png\";","module.exports = __webpack_public_path__ + \"static/media/network.e94e244a.png\";"],"sourceRoot":""}